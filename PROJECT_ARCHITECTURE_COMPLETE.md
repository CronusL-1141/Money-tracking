# FIFOèµ„é‡‘è¿½è¸ªå®¡è®¡ç³»ç»Ÿ - å®Œæ•´æ¶æ„è¯´æ˜

> **ç‰ˆæœ¬**: v3.3.2  
> **æ›´æ–°æ—¶é—´**: 2025å¹´8æœˆ27æ—¥ (æ—¶ç‚¹æŸ¥è¯¢åŠŸèƒ½å®Œå–„ä¸æ•°æ®æ˜¾ç¤ºä¼˜åŒ–)  
> **æ¶æ„ç±»å‹**: æˆç†Ÿåˆ†å±‚æ¶æ„ (Mature Layered Architecture) - Rust+GUIå®Œæ•´å®ç°  
> **å½“å‰çŠ¶æ€**: ğŸš€ æ—¶ç‚¹æŸ¥è¯¢åŠŸèƒ½å®Œå–„ï¼Œæ•°æ®æ˜¾ç¤ºç²¾å‡†ï¼Œç”¨æˆ·ä½“éªŒæŒç»­ä¼˜åŒ–

## ğŸ—ï¸ æ€»ä½“æ¶æ„æ¦‚è§ˆ

### ğŸ¯ å½“å‰æ¶æ„çŠ¶æ€ï¼šæ··åˆåˆ†å±‚æ¨¡å¼ (2025å¹´8æœˆ)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   FIFOèµ„é‡‘è¿½è¸ªå®¡è®¡ç³»ç»Ÿ v3.0                          â”‚
â”‚            (æ··åˆæ¶æ„ï¼šRustå·¥å…·å±‚ + Pythonç®—æ³•å±‚)                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ç”¨æˆ·ç•Œé¢å±‚     â”‚    â”‚   æ•°æ®å·¥å…·å±‚     â”‚    â”‚   ç®—æ³•å¤„ç†å±‚     â”‚
â”‚   (Frontend)    â”‚â”€â”€â”€â”€â”‚   (Rust Tool)   â”‚â”€â”€â”€â”€â”‚   (Python Alg)  â”‚
â”‚                 â”‚    â”‚                 â”‚    â”‚                 â”‚
â”‚  React + TS     â”‚    â”‚ âœ… Rustå·¥å…·     â”‚    â”‚  Python FIFO    â”‚
â”‚  ç°ä»£åŒ–GUI      â”‚    â”‚ âœ… æ•°æ®é¢„å¤„ç†   â”‚    â”‚  æ ¸å¿ƒä¸šåŠ¡é€»è¾‘    â”‚
â”‚  (ç”Ÿäº§å°±ç»ª)      â”‚    â”‚ âœ… 100%éªŒè¯    â”‚    â”‚  (ç®—æ³•å±‚å¼€å‘)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     ğŸ‰ å·¥å…·å±‚éªŒè¯æˆæœ (2025-08-26)                   â”‚
â”‚  â€¢ 9,799è¡ŒçœŸå®æ•°æ®ï¼š100%ç²¾ç¡®åŒ¹é…éªŒè¯æˆåŠŸ                             â”‚
â”‚  â€¢ 6å€æ€§èƒ½æå‡ï¼šPython 3ç§’ â†’ Rust 0.5ç§’                           â”‚
â”‚  â€¢ æ•°å€¼ç²¾åº¦ï¼š0.000000å·®å¼‚ (è¶…å‡º0.01å®¹å·®çš„å·®å¼‚: 0ä¸ª)                 â”‚
â”‚  â€¢ æ¶æ„éªŒè¯ï¼šæ··åˆåˆ†å±‚ç­–ç•¥å®Œå…¨æ­£ç¡®                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   ğŸš€ æœåŠ¡å±‚+GUIå®Œå–„æˆæœ (2025-08-27)                 â”‚
â”‚  â€¢ æœåŠ¡å±‚é‡æ„ï¼šaudit_service.rs +810è¡Œï¼Œå®Œæ•´ä¸šåŠ¡åè°ƒå±‚               â”‚
â”‚  â€¢ GUIåŠŸèƒ½çˆ†å‘ï¼š4ä¸ªæ ¸å¿ƒç»„ä»¶ï¼Œ+2000è¡Œç”¨æˆ·ç•Œé¢ä»£ç                      â”‚
â”‚  â€¢ ç”¨æˆ·ä½“éªŒå‡çº§ï¼šä¸»é¢˜åˆ‡æ¢ã€æ—¶é—´æ¸…ç†ã€å†å²ç®¡ç†ã€äº¤äº’ä¼˜åŒ–               â”‚
â”‚  â€¢ CLIå·¥å…·é‡å¯ï¼š324è¡Œå®Œæ•´å‘½ä»¤è¡Œåº”ç”¨                                  â”‚
â”‚  â€¢ æ¶æ„æˆç†Ÿåº¦ï¼š36æ–‡ä»¶å˜æ›´ï¼Œ+4561/-1348è¡Œï¼Œè¾¾åˆ°ç”Ÿäº§çº§åˆ«               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 âœ¨ æ—¶ç‚¹æŸ¥è¯¢åŠŸèƒ½å®Œå–„æˆæœ (v3.3.2)                      â”‚
â”‚  â€¢ æ•°æ®ç²¾åº¦ç»Ÿä¸€ï¼šRust Decimal -> å‰ç«¯2ä½å°æ•°ç²¾ç¡®æ˜¾ç¤º               â”‚
â”‚  â€¢ å­—æ®µæ˜ å°„å®Œå–„ï¼šå‰åç«¯æ•°æ®ç»“æ„100%å¯¹åº”ï¼Œæ¶ˆé™¤ç©ºå€¼æ˜¾ç¤º               â”‚
â”‚  â€¢ æµå‘è¯†åˆ«å¢å¼ºï¼šæ”¶å…¥/æ”¯å‡º/æ— å˜åŠ¨ä¸‰çŠ¶æ€æ™ºèƒ½åˆ¤æ–­                     â”‚
â”‚  â€¢ è¡Œä¸ºåˆ†æé‡æ„ï¼šä¸ªäºº/å…¬å¸èµ„é‡‘æµå‘å‡†ç¡®æè¿°ç”Ÿæˆ                       â”‚
â”‚  â€¢ GUIäº¤äº’ä¼˜åŒ–ï¼šä¿®å¤é‡å¤æ—¥å¿—ï¼Œç®€åŒ–ç•Œé¢ï¼Œæå‡ç”¨æˆ·ä½“éªŒ                â”‚
â”‚  â€¢ ä»£ç è´¨é‡æå‡ï¼šFrontendTransactionç»“æ„åŒ–æ•°æ®è½¬æ¢                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ğŸš€ å‘å±•è·¯çº¿å›¾ (å·²å®Œæˆè‡³v3.3.2)

```
é˜¶æ®µ1: åŸºç¡€å±‚ âœ…           é˜¶æ®µ2: å·¥å…·å±‚ âœ…           é˜¶æ®µ3: ç®—æ³•å±‚ âœ…
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ é”™è¯¯å¤„ç†    â”‚        â”‚ Excelå¤„ç†   â”‚        â”‚ FIFOç®—æ³•    â”‚
â”‚ æ•°æ®ç±»å‹    â”‚        â”‚ æ•°æ®éªŒè¯    â”‚        â”‚ å·®é¢è®¡ç®—æ³•   â”‚
â”‚ é…ç½®ç®¡ç†    â”‚  â”€â”€â”€â”€â†’ â”‚ æ—¶é—´å¤„ç†    â”‚  â”€â”€â”€â”€â†’ â”‚ å…±äº«æ¶æ„    â”‚
â”‚ æ—¥å¿—ç³»ç»Ÿ    â”‚        â”‚ æµæ°´ä¿®å¤    â”‚        â”‚ è¡Œä¸ºåˆ†æ    â”‚
â”‚ (å·²å®Œæˆ)    â”‚        â”‚ (100%éªŒè¯)  â”‚        â”‚ (âœ… å®Œæˆ!)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

é˜¶æ®µ3.5: æµ‹è¯•éªŒè¯ âœ…        é˜¶æ®µ4: æœåŠ¡å±‚ âœ…          é˜¶æ®µ5: åº”ç”¨å±‚ âœ…
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ç®—æ³•æµ‹è¯•    â”‚        â”‚ GUIåè°ƒ     â”‚        â”‚ CLIå·¥å…·     â”‚
â”‚ å¯¹æ¯”éªŒè¯    â”‚        â”‚ æ¥å£é€‚é…    â”‚        â”‚ å‘½ä»¤è§£æ    â”‚
â”‚ æ€§èƒ½æµ‹è¯•    â”‚  â”€â”€â”€â”€â†’ â”‚ æœåŠ¡ç®¡ç†    â”‚  â”€â”€â”€â”€â†’ â”‚ ç»“æœè¾“å‡º    â”‚
â”‚ è¾¹ç•Œæµ‹è¯•    â”‚        â”‚ (+810è¡Œ)    â”‚        â”‚ (324è¡Œ)     â”‚
â”‚ (100%å®Œæˆ)  â”‚        â”‚ (âœ… å®Œæˆ!)  â”‚        â”‚ (âœ… å®Œæˆ!)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸ†• é˜¶æ®µ5.5: GUIåŠŸèƒ½å®Œå–„ âœ…     é˜¶æ®µ6: é›†æˆå±‚ â³
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ—¶é—´é€‰æ‹©å™¨   â”‚        â”‚ Taurié›†æˆ   â”‚
â”‚ å†å²ç®¡ç†    â”‚        â”‚ æ€§èƒ½ä¼˜åŒ–    â”‚
â”‚ ä¸»é¢˜åˆ‡æ¢    â”‚  â”€â”€â”€â”€â†’ â”‚ æœ€ç»ˆå‘å¸ƒ    â”‚
â”‚ äº¤äº’ä¼˜åŒ–    â”‚        â”‚ (å‡†å¤‡å°±ç»ª)   â”‚
â”‚ (+2000è¡Œ)   â”‚        â”‚             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ğŸ¯ é‡å¤§é‡Œç¨‹ç¢‘å®Œæˆ

#### ğŸ† æ–°å…±äº«æ¶æ„æˆåŠŸ (2025å¹´8æœˆ26æ—¥æ™šé—´)

**âœ… å·²å®ç°çš„æ ¸å¿ƒæˆå°±**ï¼š
- **å…±äº«æ ¸å¿ƒæ¶æ„**: 5ä¸ªæ ¸å¿ƒç»„ä»¶ï¼Œ90%åŠŸèƒ½å¤ç”¨
- **åŒç®—æ³•å®Œæ•´å®ç°**: FIFO + å·®é¢è®¡ç®—æ³•åŸºäºå…±äº«æ ¸å¿ƒ
- **ç¼–è¯‘é›¶é”™è¯¯é€šè¿‡**: æ ¸å¿ƒç®—æ³•å±‚å®Œå…¨å¯ç”¨
- **å®Œæ•´æµ‹è¯•è¦†ç›–**: æ¯ä¸ªç»„ä»¶è¯¦ç»†å•å…ƒæµ‹è¯•  
- **æ–‡æ¡£å®Œå–„**: ä¸­æ–‡æ³¨é‡Šå¯¹åº”PythonåŠŸèƒ½

**ğŸ“Š æŠ€æœ¯æŒ‡æ ‡**ï¼š
- **ä»£ç å¤ç”¨ç‡**: 90% (1,999/2,221è¡Œå…±äº«)
- **æ–‡ä»¶ç²¾ç®€åº¦**: 60% (20â†’8æ ¸å¿ƒæ–‡ä»¶)  
- **åŠŸèƒ½å®Œæ•´æ€§**: 100% (å¯¹åº”Python 764è¡Œæ ¸å¿ƒé€»è¾‘)
- **ç¼–è¯‘é€šè¿‡ç‡**: 100% (0é”™è¯¯ï¼Œ17è­¦å‘Š)

## ğŸ¨ ç³»ç»Ÿæ¶æ„å¯è§†åŒ– (v3.3.0)

### ğŸ—ï¸ å®Œæ•´æŠ€æœ¯æ ˆæ¶æ„å›¾

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                     FIFOèµ„é‡‘è¿½è¸ªå®¡è®¡ç³»ç»Ÿ v3.3.0                               â•‘
â•‘                 æˆç†Ÿåˆ†å±‚æ¶æ„ (Mature Layered Architecture)                     â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

    ğŸ“± ç”¨æˆ·ç•Œé¢å±‚              ğŸ”„ æœåŠ¡åè°ƒå±‚              ğŸ§  ç®—æ³•å¤„ç†å±‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     â”‚    â”‚                     â”‚    â”‚                     â”‚
â”‚  React + TypeScript â”‚â”€â”€â”€â”€â”‚  Mixed Services     â”‚â”€â”€â”€â”€â”‚  Dual Algorithm     â”‚
â”‚                     â”‚    â”‚                     â”‚    â”‚                     â”‚
â”‚ â€¢ HybridDatePicker  â”‚    â”‚ â€¢ AuditService      â”‚    â”‚ â€¢ Rust algorithms/  â”‚
â”‚ â€¢ AnalysisHistory   â”‚    â”‚ â€¢ SystemService     â”‚    â”‚   - fifo_tracker    â”‚
â”‚ â€¢ TimeBasedCleanup  â”‚    â”‚ â€¢ pythonService     â”‚    â”‚   - balance_method  â”‚
â”‚ â€¢ IOSDatePicker     â”‚    â”‚ â€¢ CLI Application   â”‚    â”‚   - shared/*        â”‚
â”‚ â€¢ ThemeSystem       â”‚    â”‚ â€¢ Tauri Integration â”‚    â”‚ â€¢ Pythonç®—æ³• (å¤‡é€‰)  â”‚
â”‚                     â”‚    â”‚                     â”‚    â”‚                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    ç°ä»£UIç»„ä»¶ç”Ÿæ€             æ··åˆæœåŠ¡æ¶æ„              åŒé‡ç®—æ³•å¼•æ“

    ğŸ—„ï¸ æ•°æ®å¤„ç†å±‚              âš¡ å·¥å…·æ”¯æ’‘å±‚              ğŸ“Š è¾“å‡ºç»“æœå±‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     â”‚    â”‚                     â”‚    â”‚                     â”‚
â”‚  Data Management    â”‚    â”‚  Infrastructure     â”‚    â”‚  Analysis Output    â”‚
â”‚                     â”‚    â”‚                     â”‚    â”‚                     â”‚
â”‚ â€¢ utils/            â”‚    â”‚ â€¢ errors/           â”‚    â”‚ â€¢ Excelç»“æœæ–‡ä»¶     â”‚
â”‚   excel_processor   â”‚    â”‚ â€¢ data_models/      â”‚    â”‚ â€¢ analysisHistory   â”‚
â”‚   unified_validator â”‚    â”‚ â€¢ tauri_types       â”‚    â”‚   Manager          â”‚
â”‚   time_processor    â”‚    â”‚ â€¢ bin/ CLIå·¥å…·      â”‚    â”‚ â€¢ storageUtils     â”‚
â”‚ â€¢ å­˜å‚¨å·¥å…·å¢å¼º       â”‚    â”‚ â€¢ é…ç½®å’Œæ—¥å¿—         â”‚    â”‚ â€¢ ä¸»é¢˜é€‚é…ç•Œé¢       â”‚
â”‚                     â”‚    â”‚                     â”‚    â”‚                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    RuståŸç”Ÿæ•°æ®å¤„ç†         åŸºç¡€è®¾æ–½å’Œç±»å‹ç³»ç»Ÿ         å¢å¼ºçš„ç»“æœç®¡ç†
```

### ğŸ”„ å®Œæ•´æ•°æ®æµæ¶æ„å›¾ (v3.3.0)

```
ç”¨æˆ·é€‰æ‹©Excelæ–‡ä»¶å¹¶å¯åŠ¨åˆ†æ
        â”‚
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ğŸ“± React GUIå±‚                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  AuditPage.tsx + æ–°å¢ç»„ä»¶ç”Ÿæ€ç³»ç»Ÿ                                â”‚
â”‚  â”œâ”€â”€ ğŸ“… HybridDateTimePicker - æ—¶é—´é€‰æ‹©                          â”‚
â”‚  â”œâ”€â”€ ğŸ“‹ AnalysisHistoryPanel - å†å²è®°å½•ç®¡ç†                      â”‚
â”‚  â”œâ”€â”€ ğŸ—‘ï¸  TimeBasedCleanupDialog - æ•°æ®æ¸…ç†                      â”‚
â”‚  â”œâ”€â”€ ğŸ¨ ThemeSystem - ä¸»é¢˜åˆ‡æ¢                                   â”‚
â”‚  â””â”€â”€ ğŸ“Š å®æ—¶è¿›åº¦æ˜¾ç¤º                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚ Tauri IPC: invoke("run_audit_analysis", config)
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  ğŸ¦€ RustæœåŠ¡åè°ƒå±‚                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  main.rs (é‡æ„) + AuditService (å®Œæ•´å®ç°)                       â”‚
â”‚  â”œâ”€â”€ TauriAuditConfigç±»å‹æ˜ å°„                                   â”‚
â”‚  â”œâ”€â”€ ğŸ”§ audit_service.rs - å®Œæ•´ä¸šåŠ¡åè°ƒ (+810è¡Œ)                â”‚
â”‚  â”œâ”€â”€ ğŸ–¥ï¸  CLI Application - å‘½ä»¤è¡Œå·¥å…· (324è¡Œ)                   â”‚
â”‚  â”œâ”€â”€ âš¡ å¼‚æ­¥è¿›ç¨‹ç®¡ç†å’Œè¿›åº¦åé¦ˆ                                    â”‚
â”‚  â””â”€â”€ ğŸ“Š systemService.ts - ç³»ç»ŸçŠ¶æ€ç›‘æ§                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚ åŒé‡è·¯å¾„: Rustç›´æ¥è°ƒç”¨ + Python Shellè°ƒç”¨
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚               ğŸ”€ ä¸šåŠ¡é€»è¾‘åˆ†å‘å±‚                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  è·¯å¾„é€‰æ‹©å’Œè°ƒåº¦                                                â”‚
â”‚  â”œâ”€â”€ ğŸ¦€ Rustè·¯å¾„: AuditServiceç›´æ¥è°ƒç”¨ç®—æ³•åº“                    â”‚
â”‚  â”œâ”€â”€ ğŸ Pythonè·¯å¾„: Shellå‘½ä»¤è°ƒç”¨Python CLI                    â”‚
â”‚  â”œâ”€â”€ ğŸ“Š pythonService.ts - Pythoné›†æˆæœåŠ¡                      â”‚
â”‚  â””â”€â”€ âš¡ å¼‚æ­¥ä»»åŠ¡ç®¡ç†å’Œè¿›åº¦åé¦ˆ                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚ åˆ†åˆ«å¤„ç†æ•°æ®
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ğŸ” æ•°æ®é¢„å¤„ç†å±‚                              â”‚  
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Rustå·¥å…·å±‚ (utils/) + Pythoné¢„å¤„ç†                           â”‚
â”‚  â”œâ”€â”€ ğŸ“– ExcelProcessor (calamine + rust_xlsxwriter)            â”‚
â”‚  â”œâ”€â”€ âœ… UnifiedValidatoræ•°æ®éªŒè¯ä¿®å¤                             â”‚
â”‚  â”œâ”€â”€ â° TimeProcessoræ—¶é—´å¤„ç†                                   â”‚
â”‚  â””â”€â”€ ğŸ§¹ æµæ°´å®Œæ•´æ€§ä¿®å¤ç®—æ³• (è´ªå¿ƒç­–ç•¥)                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚ æ¸…æ´æ•°æ®ä¼ é€’
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  ğŸ§  ç®—æ³•å¤„ç†æ ¸å¿ƒå±‚                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  algorithms/ å…±äº«æ¶æ„ (Rust) + Pythonç®—æ³•                      â”‚
â”‚  â”œâ”€â”€ ğŸ“ algorithms/shared/tracker_base.rs åŸºç¡€ç±»               â”‚
â”‚  â”œâ”€â”€ ğŸ”„ fifo_tracker.rs (FIFOå…ˆè¿›å…ˆå‡º)                         â”‚
â”‚  â”œâ”€â”€ ğŸ’° balance_method_tracker.rs (å·®é¢è®¡ç®—æ³•)                  â”‚
â”‚  â”œâ”€â”€ ğŸ“Š shared/behavior_analyzer.rs è¡Œä¸ºåˆ†æ                   â”‚
â”‚  â”œâ”€â”€ ğŸ’ shared/investment_pool.rs æŠ•èµ„ç®¡ç†                     â”‚
â”‚  â””â”€â”€ ğŸ“ˆ shared/summary.rs æ‘˜è¦ç”Ÿæˆ                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚ åˆ†æç»“æœç”Ÿæˆ
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ğŸ“„ ç»“æœè¾“å‡ºå±‚                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ç»“æœæ ¼å¼åŒ–å’Œè¾“å‡º                                               â”‚
â”‚  â”œâ”€â”€ ğŸ“Š rust_xlsxwriterç”ŸæˆExcel                               â”‚
â”‚  â”œâ”€â”€ ğŸ’¾ analysisHistoryManagerå†å²è®°å½•                          â”‚
â”‚  â”œâ”€â”€ ğŸ“ˆ è¯¦ç»†åˆ†ææŠ¥å‘Š                                            â”‚
â”‚  â””â”€â”€ ğŸ¯ ç”¨æˆ·å‹å¥½çš„ç»“æœå±•ç¤º                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚ ç»“æœè¿”å›å’Œå­˜å‚¨
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              ğŸ“± ç»“æœå±•ç¤ºå’Œå†å²ç®¡ç†                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  å¢å¼ºçš„ç”¨æˆ·ä½“éªŒ                                                â”‚
â”‚  â”œâ”€â”€ ğŸ“‹ åˆ†æç»“æœå®æ—¶æ˜¾ç¤º                                        â”‚
â”‚  â”œâ”€â”€ ğŸ“š å†å²è®°å½•æŸ¥çœ‹å’Œç®¡ç†                                       â”‚
â”‚  â”œâ”€â”€ ğŸ” æ—¶ç‚¹æ¸…ç†å’Œæ‰¹é‡æ“ä½œ                                       â”‚
â”‚  â””â”€â”€ ğŸ¨ ä¸»é¢˜é€‚é…çš„ç¾è§‚ç•Œé¢                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ğŸ”¥ ä¸‹ä¸€é˜¶æ®µç›®æ ‡**: ç®—æ³•æµ‹è¯•éªŒè¯é˜¶æ®µ (æ–°å¢é˜¶æ®µ3.5)

## ğŸ“ é¡¹ç›®ç›®å½•ç»“æ„ (v3.0)

### ğŸ—ï¸ å®Œæ•´é¡¹ç›®ç»“æ„

```
èµ„é‡‘è¿½è¸ª/                                  # é¡¹ç›®æ ¹ç›®å½•
â”œâ”€â”€ ğŸ“± tauri-app/                        # Tauriæ¡Œé¢åº”ç”¨ (ç”Ÿäº§å°±ç»ª)
â”‚   â”œâ”€â”€ ğŸ¨ src/                          # Reactå‰ç«¯ä»£ç 
â”‚   â”‚   â”œâ”€â”€ App.tsx                      # ä¸»åº”ç”¨ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ main.tsx                     # Reactå…¥å£
â”‚   â”‚   â”œâ”€â”€ components/                  # å¯å¤ç”¨ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ pages/                       # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ services/                    # å‰ç«¯æœåŠ¡
â”‚   â”‚   â””â”€â”€ contexts/                    # Reactä¸Šä¸‹æ–‡
â”‚   â”‚
â”‚   â””â”€â”€ ğŸ¦€ src-tauri/                    # Rustæ¥å£é€‚é…å™¨
â”‚       â”œâ”€â”€ src/main.rs                  # **Tauriæ¥å£é€‚é…æ ¸å¿ƒ**
â”‚       â”œâ”€â”€ Cargo.toml                   # Rustä¾èµ–é…ç½®
â”‚       â””â”€â”€ tauri.conf.json             # Tauriåº”ç”¨é…ç½®
â”‚
â”œâ”€â”€ ğŸ¦€ rust-backend/                     # **Ruståç«¯æ ¸å¿ƒ** (å·¥å…·å±‚100%å®Œæˆ)
â”‚   â”œâ”€â”€ src/                             
â”‚   â”‚   â”œâ”€â”€ lib.rs                      # åº“å…¥å£
â”‚   â”‚   â”œâ”€â”€ ğŸ”§ utils/ âœ…                # **å·¥å…·å±‚ (å·²éªŒè¯100%ç²¾ç¡®)**
â”‚   â”‚   â”‚   â”œâ”€â”€ excel_processor.rs     # âœ… ç»Ÿä¸€Excelè¯»å†™å¤„ç†å™¨
â”‚   â”‚   â”‚   â”œâ”€â”€ unified_validator.rs   # âœ… æ•°æ®éªŒè¯ä¿®å¤å™¨
â”‚   â”‚   â”‚   â”œâ”€â”€ time_processor.rs      # âœ… æ—¶é—´å¤„ç†å™¨
â”‚   â”‚   â”‚   â””â”€â”€ logger.rs              # âœ… å®¡è®¡æ—¥å¿—ç³»ç»Ÿ
â”‚   â”‚   â”‚   
â”‚   â”‚   â”œâ”€â”€ ğŸ§± models/ âœ…               # **åŸºç¡€æ•°æ®æ¨¡å‹å±‚**
â”‚   â”‚   â”‚   â”œâ”€â”€ transaction.rs         # âœ… äº¤æ˜“è®°å½•ç»“æ„
â”‚   â”‚   â”‚   â”œâ”€â”€ config.rs              # âœ… é…ç½®ç®¡ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ audit_summary.rs       # âœ… å®¡è®¡æ‘˜è¦
â”‚   â”‚   â”‚   â””â”€â”€ fund_pool.rs           # âœ… èµ„é‡‘æ± ç®¡ç†
â”‚   â”‚   â”‚   
â”‚   â”‚   â”œâ”€â”€ ğŸš¨ errors/ âœ…               # **é”™è¯¯å¤„ç†å±‚**
â”‚   â”‚   â”‚   â””â”€â”€ mod.rs                 # âœ… ç»Ÿä¸€é”™è¯¯ç±»å‹
â”‚   â”‚   â”‚   
â”‚   â”‚   â”œâ”€â”€ ğŸ§® algorithms/ âœ…          # **ç®—æ³•å±‚ (æ–°å…±äº«æ¶æ„å®Œæˆ ğŸ‰)**
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“ shared/ âœ…          # **å…±äº«æ ¸å¿ƒç»„ä»¶ (90%åŠŸèƒ½å¤ç”¨)**
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ tracker_base.rs   # âœ… 13çŠ¶æ€å˜é‡å…±äº«åŸºç¡€(242è¡Œ)
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ behavior_analyzer.rs # âœ… æŒªç”¨å«ä»˜åˆ†æå™¨(345è¡Œ)
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ investment_pool.rs # âœ… æŠ•èµ„äº§å“ç®¡ç†(372è¡Œ)
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ fund_flow_common.rs # âœ… èµ„é‡‘æµå¤„ç†(443è¡Œ)
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ summary.rs        # âœ… å¤šæ ¼å¼æŠ¥å‘Šç”Ÿæˆ(297è¡Œ)
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ mod.rs            # âœ… æ¨¡å—ç»Ÿä¸€å¯¼å‡º
â”‚   â”‚   â”‚   â”œâ”€â”€ fifo_tracker.rs       # âœ… FIFOç®—æ³• (åŸºäºå…±äº«+é˜Ÿåˆ—)(409è¡Œ)
â”‚   â”‚   â”‚   â”œâ”€â”€ balance_method_tracker.rs # âœ… å·®é¢è®¡ç®—æ³• (åŸºäºå…±äº«+ä¼˜å…ˆ)(372è¡Œ)
â”‚   â”‚   â”‚   â””â”€â”€ mod.rs                # âœ… æ¸…ç†åçš„ç®—æ³•å¯¼å‡º
â”‚   â”‚   â”‚   
â”‚   â”‚   â””â”€â”€ ğŸ“¦ bin/ â¸ï¸                  # **åº”ç”¨å±‚ (CLIå·¥å…·ï¼Œç®—æ³•å±‚å®Œæˆå)**
â”‚   â”‚       â””â”€â”€ cli.rs                 # â¸ï¸ å‘½ä»¤è¡Œå·¥å…·
â”‚   â”‚
â”‚   â””â”€â”€ Cargo.toml                      # Ruståº“ä¾èµ–é…ç½®
â”‚
â”œâ”€â”€ ğŸ”¬ preprocessing_validation_test/    # **éªŒè¯æµ‹è¯•ç³»ç»Ÿ** âœ…
â”‚   â”œâ”€â”€ src/main.rs                     # âœ… Rustç‹¬ç«‹æµ‹è¯•ç¨‹åº
â”‚   â”œâ”€â”€ generate_python_preprocessed.py # âœ… Pythonæ ‡å‡†è¾“å‡ºç”Ÿæˆå™¨
â”‚   â”œâ”€â”€ compare_outputs.py              # âœ… å®Œæ•´å¯¹æ¯”å·¥å…·
â”‚   â”œâ”€â”€ final_balance_comparison.py     # âœ… ä½™é¢åˆ—ä¸“é—¨éªŒè¯
â”‚   â”œâ”€â”€ python_preprocessed_output.xlsx # âœ… Pythonæ ‡å‡†è¾“å‡º (9,799è¡Œ,19åˆ—)
â”‚   â”œâ”€â”€ rust_preprocessed_output.xlsx   # âœ… Rustè¾“å‡º (9,799è¡Œ,6åˆ—)
â”‚   â””â”€â”€ ğŸ“Š éªŒè¯ç»“æœ: 100%ç²¾ç¡®åŒ¹é…æˆåŠŸ    # âœ… å·¥å…·å±‚éªŒè¯å®Œæˆ
â”‚
â”œâ”€â”€ ğŸ src/                              # **Pythonæ ¸å¿ƒç®—æ³•** (ç”Ÿäº§ç‰ˆæœ¬)
â”‚   â”œâ”€â”€ main.py                          # **Pythonä¸»ç¨‹åºå…¥å£**
â”‚   â”œâ”€â”€ config.py                        # å…¨å±€é…ç½®
â”‚   â”œâ”€â”€ ğŸ§  core/                         # æ ¸å¿ƒä¸šåŠ¡å±‚
â”‚   â”œâ”€â”€ ğŸ” models/                       # ç®—æ³•æ¨¡å‹å±‚ (FIFOæ ¸å¿ƒ)
â”‚   â”œâ”€â”€ ğŸ”§ services/                     # æœåŠ¡å±‚
â”‚   â””â”€â”€ ğŸ› ï¸ utils/                        # Pythonå·¥å…·å±‚
â”‚
â”œâ”€â”€ ğŸ“„ docs/                             # æ–‡æ¡£ç³»ç»Ÿ
â”‚   â”œâ”€â”€ PROJECT_ARCHITECTURE_COMPLETE.md # å®Œæ•´æ¶æ„è¯´æ˜ (æœ¬æ–‡æ¡£)
â”‚   â”œâ”€â”€ ARCHITECTURE_VISUAL_GUIDE.md    # æ¶æ„å¯è§†åŒ–æŒ‡å—
â”‚   â”œâ”€â”€ QUICK_START.md                  # å¿«é€Ÿå¼€å§‹æŒ‡å—
â”‚   â””â”€â”€ balance_method_logic.md         # å·®é¢è®¡ç®—æ³•é€»è¾‘
â”‚
â”œâ”€â”€ ğŸ§ª tests/                            # æµ‹è¯•å¥—ä»¶
â”‚   â”œâ”€â”€ test_balance_method_fix.py      # å·®é¢è®¡ç®—æ³•æµ‹è¯•
â”‚   â”œâ”€â”€ test_flow_integrity.py          # æµæ°´å®Œæ•´æ€§æµ‹è¯•
â”‚   â””â”€â”€ test_greedy_strategy.py         # è´ªå¿ƒç­–ç•¥æµ‹è¯•
â”‚
â”œâ”€â”€ ğŸ”§ CLAUDE.md                        # é¡¹ç›®æŒ‡ä»¤æ–‡æ¡£
â”œâ”€â”€ ğŸ“Š æµæ°´.xlsx                        # æ ‡å‡†æµ‹è¯•æ•°æ® (9,799è¡Œ)
â””â”€â”€ ğŸ¯ STAGE_1_TOOL_LAYER_VALIDATION_SUMMARY.md # é˜¶æ®µä¸€æ€»ç»“æŠ¥å‘Š
```

### ğŸ§¹ å·²å®Œæˆçš„æ¶æ„ä¼˜åŒ– 

#### ğŸ“… ç¬¬ä¸€æ¬¡ä¼˜åŒ– (2025-08-26) - å·¥å…·å±‚ç²¾ç®€

**æˆåŠŸæ¸…ç†çš„å†—ä½™æ–‡ä»¶ (å…±1,078è¡Œä»£ç )**ï¼š
- ğŸ—‘ï¸ `data_processor.rs` (147è¡Œ) - åŠŸèƒ½å·²è¢« `unified_validator.rs` å®Œå…¨è¦†ç›–
- ğŸ—‘ï¸ `excel_reader.rs` (304è¡Œ) - åŠŸèƒ½å·²è¢« `excel_processor.rs` ç»Ÿä¸€é›†æˆ  
- ğŸ—‘ï¸ `simple_excel.rs` (417è¡Œ) - è¯•éªŒç‰ˆæœ¬ï¼ŒåŠŸèƒ½å—é™å·²åºŸå¼ƒ
- ğŸ—‘ï¸ `validator.rs` (210è¡Œ) - åŸºç¡€éªŒè¯å·²é›†æˆåˆ°ç»Ÿä¸€éªŒè¯å™¨

#### ğŸ¯ ç¬¬äºŒæ¬¡ä¼˜åŒ– (2025-08-26ä¸Šåˆ) - ç®—æ³•å±‚å…±äº«æ ¸å¿ƒæ¶æ„è®¾è®¡

**å…±äº«æ ¸å¿ƒæ¶æ„è®¾è®¡é˜¶æ®µ**ï¼š
```
algorithms/
â”œâ”€â”€ shared/                    # ğŸ†• å…±äº«æ ¸å¿ƒç»„ä»¶æ¶æ„è®¾è®¡
â”‚   â”œâ”€â”€ tracker_base.rs       # ğŸ“‹ 13ä¸ªçŠ¶æ€å˜é‡è§„åˆ’
â”‚   â”œâ”€â”€ behavior_analyzer.rs  # ğŸ“‹ è¡Œä¸ºåˆ†æå™¨è®¾è®¡  
â”‚   â”œâ”€â”€ investment_pool.rs    # ğŸ“‹ æŠ•èµ„äº§å“ç®¡ç†è§„åˆ’
â”‚   â”œâ”€â”€ fund_flow_common.rs   # ğŸ“‹ èµ„é‡‘æµå¤„ç†è®¾è®¡
â”‚   â”œâ”€â”€ summary.rs           # ğŸ“‹ æ‘˜è¦ç”Ÿæˆå™¨è§„åˆ’
â”‚   â””â”€â”€ mod.rs               # ğŸ“‹ æ¨¡å—å¯¼å‡ºè®¾è®¡
â”œâ”€â”€ fifo_tracker.rs          # ğŸ“‹ FIFOä¸“ç”¨é€»è¾‘è§„åˆ’
â”œâ”€â”€ balance_method_tracker.rs # ğŸ“‹ å·®é¢è®¡ç®—æ³•ä¸“ç”¨è§„åˆ’  
â””â”€â”€ mod.rs                   # ğŸ“‹ ç®—æ³•å±‚å¯¼å‡º
```

#### ğŸš€ ç¬¬ä¸‰æ¬¡çªç ´ (2025-08-26æ™šé—´) - æ–°å…±äº«æ¶æ„100%å®Œæˆå®ç°

**ğŸ‰ å®Œæˆçš„æ ¸å¿ƒæˆå°±**ï¼š
```
algorithms/
â”œâ”€â”€ shared/                    # âœ… å…±äº«æ ¸å¿ƒç»„ä»¶ (90%åŠŸèƒ½ï¼Œ2,099è¡Œä»£ç )
â”‚   â”œâ”€â”€ tracker_base.rs       # âœ… 13çŠ¶æ€å˜é‡+åŸºç¡€åŠŸèƒ½ (242è¡Œ)
â”‚   â”œâ”€â”€ behavior_analyzer.rs  # âœ… æŒªç”¨å«ä»˜åˆ†æå™¨ (345è¡Œ)
â”‚   â”œâ”€â”€ investment_pool.rs    # âœ… å¤æ‚æŠ•èµ„äº§å“ç®¡ç† (372è¡Œ)  
â”‚   â”œâ”€â”€ fund_flow_common.rs   # âœ… å…±åŒèµ„é‡‘æµå¤„ç† (443è¡Œ)
â”‚   â”œâ”€â”€ summary.rs           # âœ… å¤šæ ¼å¼æŠ¥å‘Šç”Ÿæˆ (297è¡Œ)
â”‚   â””â”€â”€ mod.rs               # âœ… ç»Ÿä¸€æ¨¡å—å¯¼å‡º (17è¡Œ)
â”œâ”€â”€ fifo_tracker.rs          # âœ… FIFOç®—æ³•å®Œæ•´å®ç° (409è¡Œ)
â”œâ”€â”€ balance_method_tracker.rs # âœ… å·®é¢è®¡ç®—æ³•å®Œæ•´å®ç° (372è¡Œ)
â””â”€â”€ mod.rs                   # âœ… æ¸…ç†åç®—æ³•å¯¼å‡º (15è¡Œ)
```

**ğŸ† é‡å¤§æŠ€æœ¯çªç ´**ï¼š
- âœ… **ç¼–è¯‘é›¶é”™è¯¯**: æ ¸å¿ƒç®—æ³•å±‚å®Œå…¨ç¼–è¯‘é€šè¿‡
- âœ… **90%ä»£ç å¤ç”¨**: FIFOå’Œå·®é¢è®¡ç®—æ³•å…±äº«ç»å¤§éƒ¨åˆ†é€»è¾‘  
- âœ… **å®Œæ•´åŠŸèƒ½å¯¹åº”**: 100%å¯¹åº”Pythonç‰ˆæœ¬çš„764è¡Œæ ¸å¿ƒé€»è¾‘
- âœ… **æµ‹è¯•è¦†ç›–å®Œå–„**: æ¯ä¸ªç»„ä»¶éƒ½æœ‰è¯¦ç»†çš„å•å…ƒæµ‹è¯•
- âœ… **æ¶æ„æåº¦æ¸…æ™°**: sharedæ¨¡å— + 10%ç®—æ³•å·®å¼‚çš„å®Œç¾åˆ†å±‚

**æ¶æ„åˆ›æ–°ä¼˜åŠ¿**ï¼š
- ğŸ”„ **å…±äº«æ ¸å¿ƒè®¾è®¡**: 90%ä»£ç å¤ç”¨ï¼Œä¸¤ç§ç®—æ³•åªéœ€å„è‡ªå®ç°10%å·®å¼‚
- ğŸ“¦ **ç»“æ„æåº¦ç®€åŒ–**: ä»~20ä¸ªæ–‡ä»¶ç²¾ç®€åˆ°8ä¸ªæ ¸å¿ƒæ–‡ä»¶ (60%å‡å°‘)
- âœ… **åŠŸèƒ½100%å®Œæ•´**: å®Œå…¨å¯¹åº”Pythonç‰ˆæœ¬çš„764è¡Œæ ¸å¿ƒé€»è¾‘
- ğŸ§ª **æµ‹è¯•è¦†ç›–å®Œå–„**: æ¯ä¸ªå…±äº«ç»„ä»¶éƒ½æœ‰å®Œæ•´å•å…ƒæµ‹è¯•
- ğŸ¯ **èŒè´£æ¸…æ™°åˆ†æ˜**: æ¯ä¸ªæ–‡ä»¶å¯¹åº”Pythonçš„ç‰¹å®šåŠŸèƒ½ç»„ä»¶

**ç´¯è®¡ä¼˜åŒ–æ•ˆæœ**ï¼š
- ğŸ“¦ **ä»£ç é«˜æ•ˆå¤ç”¨**: å·¥å…·å±‚ç²¾ç®€40% + ç®—æ³•å±‚å…±äº«90%
- ğŸš€ **ç¼–è¯‘æ€§èƒ½ä¼˜åŒ–**: æ¨¡å—æ•°é‡å‡å°‘ï¼Œä¾èµ–å…³ç³»ç®€åŒ–
- ğŸ¯ **ç»´æŠ¤æˆæœ¬æœ€ä½**: å…±åŒé€»è¾‘åªéœ€ç»´æŠ¤ä¸€å¤„
- âœ… **æ‰©å±•æ€§æœ€å¼º**: æœªæ¥å¢åŠ æ–°ç®—æ³•åªéœ€å®ç°10%å·®å¼‚ä»£ç 

### ğŸ“Š ç›®å½•çŠ¶æ€è¯´æ˜

| çŠ¶æ€ | ç¬¦å· | å«ä¹‰ |
|------|------|------|
| âœ… | å®Œæˆ | å·²å®ç°å¹¶é€šè¿‡éªŒè¯ |
| ğŸ”„ | è¿›è¡Œä¸­ | å½“å‰å¼€å‘é‡ç‚¹ |
| â³ | å¾…å¼€å§‹ | å·²è§„åˆ’ï¼Œç­‰å¾…å‰ç½®æ¡ä»¶ |
| â¸ï¸ | æš‚ç¼“ | ä¾èµ–å…¶ä»–æ¨¡å—å®Œæˆ |
| âŒ | å·²æ¸…ç† | å†—ä½™æ–‡ä»¶ï¼Œå·²åˆ é™¤ |

## ğŸ”„ ç³»ç»Ÿè°ƒç”¨æµç¨‹

### 1. GUIæ“ä½œæµç¨‹ (å®Œæ•´è°ƒç”¨é“¾)

```mermaid
graph TD
    A[ç”¨æˆ·ç‚¹å‡»åˆ†ææŒ‰é’®] --> B[Reactå‰ç«¯ç»„ä»¶]
    B --> C[pythonService.ts]
    C --> D[Tauri APIè°ƒç”¨]
    D --> E[main.rs æ¥æ”¶è¯·æ±‚]
    E --> F[å‚æ•°éªŒè¯ä¸è½¬æ¢]
    F --> G[æ„å»ºPythonå‘½ä»¤]
    G --> H[æ‰§è¡Œ python src/main.py]
    H --> I[Pythonç®—æ³•å¤„ç†]
    I --> J[è¿”å›ç»“æœåˆ°Rust]
    J --> K[JSONæ ¼å¼åŒ–]
    K --> L[è¿”å›ç»™å‰ç«¯]
    L --> M[æ›´æ–°GUIç•Œé¢]
```

### 2. è¯¦ç»†è°ƒç”¨æ˜ å°„

#### **å‰ç«¯ â†’ åç«¯è°ƒç”¨**
```typescript
// å‰ç«¯è°ƒç”¨ (React)
await invoke("run_audit_analysis", {
    filePath: selectedFile,
    algorithm: "FIFO",
    outputPath: "output.xlsx"
});

// â†“ è½¬æ¢ä¸º

// Rustæ¥å£ (main.rs)
#[tauri::command]
async fn run_audit_analysis(
    file_path: String,
    algorithm: String, 
    output_path: String
) -> Result<AuditResult, String>

// â†“ è½¬æ¢ä¸º

// Pythonå‘½ä»¤ (Shellæ‰§è¡Œ)
python src/main.py --algorithm FIFO --input input.xlsx --output output.xlsx
```

#### **ç®—æ³•å±‚è°ƒç”¨é“¾**
```python
# main.py (å…¥å£)
def main():
    service = AuditService()
    service.analyze(algorithm, input_file)

# â†“

# AuditService (æœåŠ¡å±‚)
def analyze(self, algorithm: str, input_file: str):
    tracker = TrackerFactory.create_tracker(algorithm)
    tracker.process_data(data)

# â†“

# TrackerFactory (å·¥å‚å±‚)
def create_tracker(algorithm: str):
    if algorithm == "FIFO":
        return FIFOTracker()  # é€‚é…å™¨
    elif algorithm == "BALANCE_METHOD":
        return BalanceMethodTracker()  # ç›´æ¥å®ç°

# â†“

# FIFOTracker (é€‚é…å™¨å±‚)
def process_data(self, data):
    return self._legacy_tracker.process_data(data)  # å§”æ‰˜è°ƒç”¨

# â†“

# FIFOèµ„é‡‘è¿½è¸ªå™¨ (ç®—æ³•å®ç°å±‚)
def process_data(self, data):
    # å®é™…çš„FIFOç®—æ³•é€»è¾‘
    return fifo_result
```

## ğŸ¯ æ ¸å¿ƒç»„ä»¶è¯¦è§£

### 1. **main.rs - æ¥å£é€‚é…å™¨æ ¸å¿ƒ**

**ä½ç½®**: `tauri-app/src-tauri/src/main.rs`  
**ä½œç”¨**: GUIä¸Python CLIçš„é€‚é…æ¡¥æ¢

```rust
// æ ¸å¿ƒåŠŸèƒ½
#[tauri::command]
async fn run_audit_analysis(...) -> Result<AuditResult, String> {
    // 1. å‚æ•°éªŒè¯
    // 2. æ„å»ºPythonå‘½ä»¤
    // 3. å¼‚æ­¥æ‰§è¡ŒPythonè¿›ç¨‹
    // 4. å®æ—¶è¿›åº¦åé¦ˆ
    // 5. ç»“æœè§£æä¸è¿”å›
}

#[tauri::command] 
async fn query_time_point(...) -> Result<QueryResult, String> {
    // æ—¶ç‚¹æŸ¥è¯¢åŠŸèƒ½é€‚é…
}

#[tauri::command]
async fn query_fund_pool_details(...) -> Result<PoolDetails, String> {
    // èµ„é‡‘æ± æŸ¥è¯¢åŠŸèƒ½é€‚é…
}
```

**å…³é”®ç‰¹æ€§**:
- âœ… å¼‚æ­¥æ‰§è¡Œï¼ŒGUIä¸é˜»å¡
- âœ… å®æ—¶è¿›åº¦åé¦ˆ 
- âœ… é”™è¯¯å¤„ç†ä¸è½¬æ¢
- âœ… è·¨å¹³å°å…¼å®¹æ€§

### 2. **main.py - Pythonä¸»ç¨‹åºå…¥å£**

**ä½ç½®**: `src/main.py`  
**ä½œç”¨**: å‘½ä»¤è¡Œæ¥å£ï¼Œåè°ƒå„æœåŠ¡å±‚

```python
def main():
    parser = argparse.ArgumentParser()
    parser.add_argument("--algorithm", choices=["FIFO", "BALANCE_METHOD"])
    parser.add_argument("--input", required=True)
    parser.add_argument("--output")
    parser.add_argument("--compare", action="store_true")
    
    args = parser.parse_args()
    
    # åˆ›å»ºå®¡è®¡æœåŠ¡
    service = AuditService()
    
    if args.compare:
        service.compare_algorithms(args.input)
    else:
        service.analyze(args.algorithm, args.input, args.output)
```

**æ”¯æŒçš„æ“ä½œ**:
- âœ… å•ç®—æ³•åˆ†æ (`--algorithm FIFO`)
- âœ… ç®—æ³•å¯¹æ¯” (`--compare`)
- âœ… è‡ªå®šä¹‰è¾“å‡º (`--output`)
- âœ… ç®—æ³•åˆ—è¡¨ (`--list-algorithms`)

### 3. **è¿½è¸ªå™¨æ¶æ„ - é€‚é…å™¨æ¨¡å¼**

#### **ç»Ÿä¸€æ¥å£** (`tracker_interface.py`)
```python
class ITracker:
    def åˆå§‹åŒ–ä½™é¢(self, åˆå§‹ä½™é¢: float, ä½™é¢ç±»å‹: str) -> None: ...
    def å¤„ç†èµ„é‡‘æµå…¥(self, é‡‘é¢: float, èµ„é‡‘å±æ€§: str, äº¤æ˜“æ—¥æœŸ) -> Tuple[float, float, str]: ...
    def å¤„ç†èµ„é‡‘æµå‡º(self, é‡‘é¢: float, èµ„é‡‘å±æ€§: str, äº¤æ˜“æ—¥æœŸ) -> Tuple[float, float, str]: ...
    def è·å–çŠ¶æ€æ‘˜è¦(self) -> Dict[str, Any]: ...
```

#### **FIFOé€‚é…å™¨** (`fifo_adapter.py`)
```python
class FIFOTracker(ITracker):
    def __init__(self):
        # åŒ…è£…åŸæœ‰å®ç°
        self._legacy_tracker = LegacyFIFOTracker()
    
    def å¤„ç†èµ„é‡‘æµå…¥(self, ...):
        # ç›´æ¥å§”æ‰˜è°ƒç”¨
        return self._legacy_tracker.å¤„ç†èµ„é‡‘æµå…¥(...)
```

#### **å·®é¢è®¡ç®—æ³•è¿½è¸ªå™¨** (`balance_method_tracker.py`)
```python
class BalanceMethodTracker(ITracker):
    def __init__(self):
        # ç›´æ¥å®ç°ï¼Œå¤ç”¨å·¥å…·ç±»
        self._è¡Œä¸ºåˆ†æå™¨ = BehaviorAnalyzer()
    
    def å¤„ç†èµ„é‡‘æµå‡º(self, ...):
        # å·®é¢è®¡ç®—æ³•æ ¸å¿ƒé€»è¾‘
        ä¸ªäººæ‰£é™¤ = min(é‡‘é¢, self._ä¸ªäººä½™é¢)
        å…¬å¸æ‰£é™¤ = min(å‰©ä½™é‡‘é¢, self._å…¬å¸ä½™é¢)
        # ...
```

## ğŸŒŠ æ•°æ®æµå‘å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    JSONè¯·æ±‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    Shellå‘½ä»¤   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Reactå‰ç«¯     â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’â”‚   Tauri Rust   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’â”‚   Pythonåç«¯    â”‚
â”‚                 â”‚                â”‚                 â”‚                â”‚                 â”‚
â”‚ â€¢ æ–‡ä»¶é€‰æ‹©      â”‚                â”‚ â€¢ å‚æ•°éªŒè¯      â”‚                â”‚ â€¢ ç®—æ³•æ‰§è¡Œ      â”‚
â”‚ â€¢ å‚æ•°é…ç½®      â”‚                â”‚ â€¢ å‘½ä»¤æ„å»º      â”‚                â”‚ â€¢ Excelå¤„ç†     â”‚
â”‚ â€¢ è¿›åº¦æ˜¾ç¤º      â”‚                â”‚ â€¢ è¿›ç¨‹ç®¡ç†      â”‚                â”‚ â€¢ ç»“æœç”Ÿæˆ      â”‚
â”‚ â€¢ ç»“æœå±•ç¤º      â”‚                â”‚ â€¢ é”™è¯¯å¤„ç†      â”‚                â”‚                 â”‚
â”‚                 â”‚    JSONå“åº”    â”‚                 â”‚    æ–‡æœ¬è¾“å‡º    â”‚                 â”‚
â”‚                 â”‚â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                 â”‚â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â†‘                                   â†‘                                   â†“
        â”‚                                   â”‚                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                                   â”‚                          â”‚   Excelè¾“å‡º     â”‚
        â”‚                                   â”‚                          â”‚                 â”‚
        â”‚                           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚ â€¢ èµ„é‡‘è¿½è¸ªç»“æœ  â”‚
        â”‚                           â”‚   æ–‡ä»¶ç³»ç»Ÿ      â”‚               â”‚ â€¢ åœºå¤–èµ„é‡‘æ±     â”‚
        â”‚                           â”‚                 â”‚               â”‚ â€¢ äº¤æ˜“è®°å½•      â”‚
        â”‚                           â”‚ â€¢ Excelè¯»å–     â”‚               â”‚                 â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚ â€¢ ç»“æœå­˜å‚¨      â”‚â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                 â”‚
                                    â”‚ â€¢ æ—¥å¿—è®°å½•      â”‚               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”— å…³é”®æ¥å£å®šä¹‰

### 1. **Tauriæ¥å£** (Rust â†” TypeScript)

#### **TypeScriptç±»å‹å®šä¹‰** (`tauri-app/src/types/`)

```typescript
// rust-commands.ts - Rustå‘½ä»¤æ¥å£ç±»å‹
export interface AuditRequest {
    filePath: string;
    algorithm: "FIFO" | "BALANCE_METHOD";
    outputPath?: string;
}

export interface AuditResult {
    success: boolean;
    outputPath: string;
    summary: AuditSummary;
    message?: string;
    processingTime?: number;
}

export interface AuditSummary {
    ä¸ªäººä½™é¢: number;
    å…¬å¸ä½™é¢: number;
    ç´¯è®¡æŒªç”¨é‡‘é¢: number;
    ç´¯è®¡å«ä»˜é‡‘é¢: number;
    ç´¯è®¡ç”±èµ„é‡‘æ± å›å½’å…¬å¸ä½™é¢æœ¬é‡‘: number;
    ç´¯è®¡ç”±èµ„é‡‘æ± å›å½’ä¸ªäººä½™é¢æœ¬é‡‘: number;
    æ€»è®¡ä¸ªäººåº”åˆ†é…åˆ©æ¶¦: number;
    æ€»è®¡å…¬å¸åº”åˆ†é…åˆ©æ¶¦: number;
    èµ„é‡‘ç¼ºå£: number;
    æŠ•èµ„äº§å“æ•°é‡: number;
    æ€»ä½™é¢: number;
}

// æ—¶ç‚¹æŸ¥è¯¢æ¥å£
export interface TimePointQueryRequest {
    filePath: string;
    rowNumber: number;
    algorithm: "FIFO" | "BALANCE_METHOD";
}

export interface TimePointQueryResult {
    success: boolean;
    summary?: AuditSummary;
    message?: string;
    timestamp?: string;
}

// èµ„é‡‘æ± æŸ¥è¯¢æ¥å£
export interface FundPoolQueryRequest {
    filePath: string;
    rowNumber: number;
    algorithm: "FIFO" | "BALANCE_METHOD";
    poolName: string;
}

export interface FundPoolRecord {
    äº¤æ˜“æ—¶é—´: string;
    èµ„é‡‘æ± åç§°: string;
    å…¥é‡‘: number;
    å‡ºé‡‘: number;
    æ€»ä½™é¢: number;
    å•ç¬”èµ„é‡‘å æ¯”: string;
    æ€»èµ„é‡‘å æ¯”: string;
    è¡Œä¸ºæ€§è´¨: string;
    ç´¯è®¡ç”³è´­: number;
    ç´¯è®¡èµå›: number;
}

export interface FundPoolQueryResult {
    success: boolean;
    poolName?: string;
    records?: FundPoolRecord[];
    summary?: {
        totalInflow: number;
        totalOutflow: number;
        currentBalance: number;
        recordCount: number;
        netProfitLoss: number;
        status: "ç›ˆåˆ©" | "äºæŸ" | "æŒå¹³";
    };
    message?: string;
}
```

```typescript
// python.ts - Pythonåç«¯æ¥å£ç±»å‹
export interface PythonProcessStatus {
    isRunning: boolean;
    progress?: number;
    message?: string;
    processId?: number;
}

export interface ProcessOutput {
    stdout: string;
    stderr: string;
    exitCode: number;
}
```

#### **Rustç»“æ„ä½“å®šä¹‰** (`tauri-app/src-tauri/src/main.rs`)

```rust
use serde::{Deserialize, Serialize};
use std::collections::HashMap;

// æ ¸å¿ƒæ•°æ®ç»“æ„
#[derive(Debug, Serialize, Deserialize, Clone)]
pub struct AuditRequest {
    pub file_path: String,
    pub algorithm: String,
    pub output_path: Option<String>,
}

#[derive(Debug, Serialize, Deserialize)]
pub struct AuditResult {
    pub success: bool,
    pub output_path: String,
    pub summary: AuditSummary,
    pub message: Option<String>,
    pub processing_time: Option<f64>,
}

#[derive(Debug, Serialize, Deserialize, Clone)]
pub struct AuditSummary {
    #[serde(rename = "ä¸ªäººä½™é¢")]
    pub personal_balance: f64,
    #[serde(rename = "å…¬å¸ä½™é¢")]
    pub company_balance: f64,
    #[serde(rename = "ç´¯è®¡æŒªç”¨é‡‘é¢")]
    pub total_misappropriation: f64,
    #[serde(rename = "ç´¯è®¡å«ä»˜é‡‘é¢")]
    pub total_advance_payment: f64,
    #[serde(rename = "ç´¯è®¡ç”±èµ„é‡‘æ± å›å½’å…¬å¸ä½™é¢æœ¬é‡‘")]
    pub total_company_principal_returned: f64,
    #[serde(rename = "ç´¯è®¡ç”±èµ„é‡‘æ± å›å½’ä¸ªäººä½™é¢æœ¬é‡‘")]
    pub total_personal_principal_returned: f64,
    #[serde(rename = "æ€»è®¡ä¸ªäººåº”åˆ†é…åˆ©æ¶¦")]
    pub total_personal_profit: f64,
    #[serde(rename = "æ€»è®¡å…¬å¸åº”åˆ†é…åˆ©æ¶¦")]
    pub total_company_profit: f64,
    #[serde(rename = "èµ„é‡‘ç¼ºå£")]
    pub funding_gap: f64,
    #[serde(rename = "æŠ•èµ„äº§å“æ•°é‡")]
    pub investment_product_count: u32,
    #[serde(rename = "æ€»ä½™é¢")]
    pub total_balance: f64,
}

// æ—¶ç‚¹æŸ¥è¯¢ç»“æ„
#[derive(Debug, Serialize, Deserialize)]
pub struct TimePointQueryRequest {
    pub file_path: String,
    pub row_number: u32,
    pub algorithm: String,
}

#[derive(Debug, Serialize, Deserialize)]
pub struct TimePointQueryResult {
    pub success: bool,
    pub summary: Option<AuditSummary>,
    pub message: Option<String>,
    pub timestamp: Option<String>,
}

// èµ„é‡‘æ± æŸ¥è¯¢ç»“æ„
#[derive(Debug, Serialize, Deserialize)]
pub struct FundPoolQueryRequest {
    pub file_path: String,
    pub row_number: u32,
    pub algorithm: String,
    pub pool_name: String,
}

#[derive(Debug, Serialize, Deserialize)]
pub struct FundPoolRecord {
    #[serde(rename = "äº¤æ˜“æ—¶é—´")]
    pub transaction_time: String,
    #[serde(rename = "èµ„é‡‘æ± åç§°")]
    pub pool_name: String,
    #[serde(rename = "å…¥é‡‘")]
    pub inflow: f64,
    #[serde(rename = "å‡ºé‡‘")]
    pub outflow: f64,
    #[serde(rename = "æ€»ä½™é¢")]
    pub total_balance: f64,
    #[serde(rename = "å•ç¬”èµ„é‡‘å æ¯”")]
    pub single_fund_ratio: String,
    #[serde(rename = "æ€»èµ„é‡‘å æ¯”")]
    pub total_fund_ratio: String,
    #[serde(rename = "è¡Œä¸ºæ€§è´¨")]
    pub behavior_nature: String,
    #[serde(rename = "ç´¯è®¡ç”³è´­")]
    pub cumulative_purchase: f64,
    #[serde(rename = "ç´¯è®¡èµå›")]
    pub cumulative_redemption: f64,
}

#[derive(Debug, Serialize, Deserialize)]
pub struct FundPoolSummary {
    pub total_inflow: f64,
    pub total_outflow: f64,
    pub current_balance: f64,
    pub record_count: u32,
    pub net_profit_loss: f64,
    pub status: String, // "ç›ˆåˆ©" | "äºæŸ" | "æŒå¹³"
}

#[derive(Debug, Serialize, Deserialize)]
pub struct FundPoolQueryResult {
    pub success: bool,
    pub pool_name: Option<String>,
    pub records: Option<Vec<FundPoolRecord>>,
    pub summary: Option<FundPoolSummary>,
    pub message: Option<String>,
}

// è¿›ç¨‹çŠ¶æ€ç®¡ç†
#[derive(Debug, Clone)]
pub struct ProcessStatus {
    pub is_running: bool,
    pub progress: Option<f64>,
    pub message: Option<String>,
    pub process_id: Option<u32>,
}

#[derive(Debug, Default)]
pub struct AppState {
    pub current_process: Arc<Mutex<ProcessStatus>>,
}
```

#### **ä¸»è¦Tauriå‘½ä»¤**

```rust
// æ ¸å¿ƒåˆ†æå‘½ä»¤
#[tauri::command]
async fn run_audit_analysis(
    state: tauri::State<'_, AppState>,
    request: AuditRequest,
) -> Result<AuditResult, String> {
    // å®ç°è¯¦è§ä¸‹æ–‡
}

// æ—¶ç‚¹æŸ¥è¯¢å‘½ä»¤
#[tauri::command]  
async fn query_time_point(
    state: tauri::State<'_, AppState>,
    request: TimePointQueryRequest,
) -> Result<TimePointQueryResult, String> {
    // æŸ¥è¯¢ç‰¹å®šæ—¶ç‚¹çš„ç³»ç»ŸçŠ¶æ€
}

// èµ„é‡‘æ± æŸ¥è¯¢å‘½ä»¤
#[tauri::command]
async fn query_fund_pool_details(
    state: tauri::State<'_, AppState>, 
    request: FundPoolQueryRequest,
) -> Result<FundPoolQueryResult, String> {
    // æŸ¥è¯¢ç‰¹å®šèµ„é‡‘æ± çš„è¯¦ç»†ä¿¡æ¯
}

// è¿›ç¨‹çŠ¶æ€æŸ¥è¯¢
#[tauri::command]
async fn get_process_status(
    state: tauri::State<'_, AppState>,
) -> Result<ProcessStatus, String> {
    // è·å–å½“å‰å¤„ç†è¿›ç¨‹çš„çŠ¶æ€
}

// å–æ¶ˆå½“å‰æ“ä½œ
#[tauri::command]
async fn cancel_current_operation(
    state: tauri::State<'_, AppState>,
) -> Result<bool, String> {
    // å–æ¶ˆæ­£åœ¨è¿›è¡Œçš„æ“ä½œ
}
```

### 2. **Python CLIæ¥å£**

#### **ä¸»ç¨‹åºæ¥å£** (`src/main.py`)

```bash
# åŸºæœ¬åˆ†æ
python src/main.py --algorithm FIFO --input data.xlsx
python src/main.py --algorithm BALANCE_METHOD --input data.xlsx

# è‡ªå®šä¹‰è¾“å‡ºè·¯å¾„
python src/main.py -a FIFO -i data.xlsx -o custom_result.xlsx

# ç®—æ³•å¯¹æ¯”åˆ†æ
python src/main.py --compare --input data.xlsx

# åˆ—å‡ºå¯ç”¨ç®—æ³•
python src/main.py --list-algorithms
```

**å‘½ä»¤è¡Œå‚æ•°**:
- `--algorithm, -a`: ç®—æ³•ç±»å‹ (`FIFO` | `BALANCE_METHOD`)
- `--input, -i`: è¾“å…¥Excelæ–‡ä»¶è·¯å¾„ (å¿…éœ€)
- `--output, -o`: è¾“å‡ºæ–‡ä»¶è·¯å¾„ (å¯é€‰ï¼Œé»˜è®¤è‡ªåŠ¨ç”Ÿæˆ)
- `--compare, -c`: å¯¹æ¯”ä¸¤ç§ç®—æ³•
- `--list-algorithms, -l`: åˆ—å‡ºå¯ç”¨ç®—æ³•

#### **æ—¶ç‚¹æŸ¥è¯¢æ¥å£** (`src/services/query_cli.py`)

```bash
# æŸ¥è¯¢ç‰¹å®šè¡Œçš„ç³»ç»ŸçŠ¶æ€
python src/services/query_cli.py \
    --file data.xlsx \
    --row 100 \
    --algorithm FIFO

# ç®€åŒ–å‚æ•°
python src/services/query_cli.py -f data.xlsx -r 100 -a BALANCE_METHOD
```

**å‘½ä»¤è¡Œå‚æ•°**:
- `--file, -f`: Excelæ•°æ®æ–‡ä»¶è·¯å¾„ (å¿…éœ€)
- `--row, -r`: æŸ¥è¯¢çš„è¡Œå· (å¿…éœ€)
- `--algorithm, -a`: åˆ†æç®—æ³• (å¿…éœ€)

#### **èµ„é‡‘æ± æŸ¥è¯¢æ¥å£** (`src/services/fund_pool_cli.py`)

```bash
# æŸ¥è¯¢ç‰¹å®šèµ„é‡‘æ± çš„è¯¦ç»†ä¿¡æ¯
python src/services/fund_pool_cli.py \
    --file data.xlsx \
    --row 50 \
    --algorithm FIFO \
    --pool "ç†è´¢-SL100613100620"

# æŸ¥è¯¢å¤šä¸ªèµ„é‡‘æ± 
python src/services/fund_pool_cli.py \
    -f data.xlsx -r 50 -a BALANCE_METHOD \
    --pool "æŠ•èµ„-äº§å“A"
```

**å‘½ä»¤è¡Œå‚æ•°**:
- `--file`: Excelæ•°æ®æ–‡ä»¶è·¯å¾„ (å¿…éœ€)
- `--row`: æŸ¥è¯¢æ—¶ç‚¹çš„è¡Œå· (å¿…éœ€)  
- `--algorithm`: åˆ†æç®—æ³• (å¿…éœ€)
- `--pool`: èµ„é‡‘æ± åç§° (å¿…éœ€)

### 3. **é…ç½®ç®¡ç†** (`src/config.py`)

#### **æ ¸å¿ƒé…ç½®ç±»**

```python
class Config:
    """å…¨å±€é…ç½®ç®¡ç†ç±»"""
    
    # æ•°å€¼å¤„ç†é…ç½®
    BALANCE_TOLERANCE = 0.01  # ä½™é¢è®¡ç®—å®¹å·®
    DECIMAL_PLACES = 2        # å°æ•°ä½ç²¾åº¦
    
    # èµ„é‡‘å±æ€§è¯†åˆ«è§„åˆ™
    PERSONAL_FUND_KEYWORDS = ['ä¸ªäºº', 'ä¸ªäººåº”æ”¶', 'ä¸ªäººåº”ä»˜']
    COMPANY_FUND_KEYWORDS = ['å…¬å¸', 'å…¬å¸åº”æ”¶', 'å…¬å¸åº”ä»˜']
    
    # æŠ•èµ„äº§å“å‰ç¼€è§„åˆ™
    INVESTMENT_PRODUCT_PREFIXES = [
        'ç†è´¢-', 'æŠ•èµ„-', 'ä¿é™©-', 
        'å…³è”é“¶è¡Œå¡-', 'èµ„é‡‘æ± -'
    ]
    
    # æ–‡ä»¶è·¯å¾„é…ç½®
    DEFAULT_INPUT_PATH = "æµæ°´.xlsx"
    DEFAULT_OUTPUT_DIR = "./"
    LOG_DIR = "logs/"
    
    # Excelåˆ—æ˜ å°„
    EXCEL_COLUMN_MAPPING = {
        'äº¤æ˜“æ—¥æœŸ': 'transaction_date',
        'äº¤æ˜“æ—¶é—´': 'transaction_time', 
        'äº¤æ˜“æ”¶å…¥é‡‘é¢': 'income_amount',
        'äº¤æ˜“æ”¯å‡ºé‡‘é¢': 'expense_amount',
        'ä½™é¢': 'balance',
        'èµ„é‡‘å±æ€§': 'fund_attribute'
    }
    
    @staticmethod
    def is_personal_fund(fund_attribute: str) -> bool:
        """åˆ¤æ–­æ˜¯å¦ä¸ºä¸ªäººèµ„é‡‘"""
        return any(keyword in str(fund_attribute) 
                  for keyword in Config.PERSONAL_FUND_KEYWORDS)
    
    @staticmethod  
    def is_company_fund(fund_attribute: str) -> bool:
        """åˆ¤æ–­æ˜¯å¦ä¸ºå…¬å¸èµ„é‡‘"""
        return any(keyword in str(fund_attribute)
                  for keyword in Config.COMPANY_FUND_KEYWORDS)
    
    @staticmethod
    def is_investment_product(fund_attribute: str) -> bool:
        """åˆ¤æ–­æ˜¯å¦ä¸ºæŠ•èµ„äº§å“"""
        return any(str(fund_attribute).startswith(prefix)
                  for prefix in Config.INVESTMENT_PRODUCT_PREFIXES)
    
    @staticmethod
    def format_number(value: float) -> float:
        """æ ¼å¼åŒ–æ•°å€¼ç²¾åº¦"""
        return round(value, Config.DECIMAL_PLACES)
```

#### **æ—¥å¿—é…ç½®** (`src/utils/logger.py`)

```python
import logging
from pathlib import Path

class AuditLogger:
    """å®¡è®¡ç³»ç»Ÿæ—¥å¿—ç®¡ç†å™¨"""
    
    def __init__(self):
        self.setup_loggers()
    
    def setup_loggers(self):
        """è®¾ç½®æ—¥å¿—è®°å½•å™¨"""
        
        # åˆ›å»ºæ—¥å¿—ç›®å½•
        log_dir = Path("logs")
        log_dir.mkdir(exist_ok=True)
        
        # ä¸»æ—¥å¿—è®°å½•å™¨
        self.main_logger = logging.getLogger("audit_main")
        self.main_logger.setLevel(logging.INFO)
        
        # è¯¦ç»†æ—¥å¿—è®°å½•å™¨  
        self.detail_logger = logging.getLogger("audit_detail")
        self.detail_logger.setLevel(logging.DEBUG)
        
        # é”™è¯¯æ—¥å¿—è®°å½•å™¨
        self.error_logger = logging.getLogger("audit_error")
        self.error_logger.setLevel(logging.ERROR)
        
        # é…ç½®æ—¥å¿—æ ¼å¼
        formatter = logging.Formatter(
            '%(asctime)s - %(name)s - %(levelname)s - %(message)s'
        )
        
        # é…ç½®æ–‡ä»¶å¤„ç†å™¨
        handlers = [
            (self.main_logger, "logs/audit.log"),
            (self.detail_logger, "logs/audit_detail.log"),
            (self.error_logger, "logs/audit_error.log")
        ]
        
        for logger, filepath in handlers:
            handler = logging.FileHandler(filepath, encoding='utf-8')
            handler.setFormatter(formatter)
            logger.addHandler(handler)

# å…¨å±€æ—¥å¿—å®ä¾‹
audit_logger = AuditLogger().main_logger
detail_logger = AuditLogger().detail_logger  
error_logger = AuditLogger().error_logger
```

### 4. **æ•°æ®ç»“æ„å®šä¹‰**

#### **è¾“å…¥æ•°æ®ç»“æ„** (Excelæ ¼å¼)

| å­—æ®µå | æ•°æ®ç±»å‹ | å¿…å¡« | è¯´æ˜ | ç¤ºä¾‹ |
|-------|---------|------|------|------|
| äº¤æ˜“æ—¥æœŸ | datetime | âœ… | äº¤æ˜“å‘ç”Ÿæ—¥æœŸ | `2023-01-15` |
| äº¤æ˜“æ—¶é—´ | string/int | âœ… | å…·ä½“äº¤æ˜“æ—¶é—´ | `143025` æˆ– `"14:30:25"` |
| äº¤æ˜“æ”¶å…¥é‡‘é¢ | float | âœ… | èµ„é‡‘æµå…¥ï¼Œæ— æ”¶å…¥å¡«0 | `50000.00` |
| äº¤æ˜“æ”¯å‡ºé‡‘é¢ | float | âœ… | èµ„é‡‘æµå‡ºï¼Œæ— æ”¯å‡ºå¡«0 | `30000.00` |
| ä½™é¢ | float | âœ… | äº¤æ˜“åè´¦æˆ·ä½™é¢ | `120000.00` |
| èµ„é‡‘å±æ€§ | string | âœ… | èµ„é‡‘å½’å±å’Œæ€§è´¨æ ‡è¯† | `"ä¸ªäººåº”æ”¶"` |

#### **èµ„é‡‘å±æ€§åˆ†ç±»è§„åˆ™**

| ç±»å‹ | æ ¼å¼ | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|------|
| ä¸ªäººèµ„é‡‘ | `ä¸ªäºº`\|`ä¸ªäººåº”æ”¶`\|`ä¸ªäººåº”ä»˜` | ä¸ªäººèµ„é‡‘æµå‘ | `"ä¸ªäººåº”æ”¶"` |
| å…¬å¸èµ„é‡‘ | `å…¬å¸`\|`å…¬å¸åº”æ”¶`\|`å…¬å¸åº”ä»˜` | å…¬å¸èµ„é‡‘æµå‘ | `"å…¬å¸åº”ä»˜"` |
| æŠ•èµ„äº§å“ | `å‰ç¼€-äº§å“ä»£ç ` | æŠ•èµ„äº§å“æ ‡è¯† | `"ç†è´¢-SL100613100620"` |

#### **æŠ•èµ„äº§å“å‰ç¼€è§„åˆ™**

- `ç†è´¢-`: é“¶è¡Œç†è´¢äº§å“
- `æŠ•èµ„-`: å„ç±»æŠ•èµ„äº§å“  
- `ä¿é™©-`: ä¿é™©ç±»äº§å“
- `å…³è”é“¶è¡Œå¡-`: å…³è”è´¦æˆ·è½¬è´¦
- `èµ„é‡‘æ± -`: èµ„é‡‘æ± äº§å“

#### **è¾“å‡ºæ•°æ®ç»“æ„**

**ä¸»åˆ†æç»“æœ** (`[ALGORITHM]_èµ„é‡‘è¿½è¸ªç»“æœ.xlsx`):

| å­—æ®µå | æ•°æ®ç±»å‹ | è¯´æ˜ |
|-------|---------|------|
| **åŸå§‹å­—æ®µ** | | |
| äº¤æ˜“æ—¥æœŸ | datetime | åŸå§‹äº¤æ˜“æ—¥æœŸ |
| äº¤æ˜“æ—¶é—´ | string | åŸå§‹äº¤æ˜“æ—¶é—´ |
| äº¤æ˜“æ”¶å…¥é‡‘é¢ | float | åŸå§‹æ”¶å…¥é‡‘é¢ |
| äº¤æ˜“æ”¯å‡ºé‡‘é¢ | float | åŸå§‹æ”¯å‡ºé‡‘é¢ |
| ä½™é¢ | float | åŸå§‹è´¦æˆ·ä½™é¢ |
| èµ„é‡‘å±æ€§ | string | åŸå§‹èµ„é‡‘å±æ€§ |
| **ç³»ç»Ÿè®¡ç®—å­—æ®µ** | | |
| ä¸ªäººèµ„é‡‘å æ¯” | float | è¯¥äº¤æ˜“ä¸­ä¸ªäººèµ„é‡‘å æ¯” (0-1) |
| å…¬å¸èµ„é‡‘å æ¯” | float | è¯¥äº¤æ˜“ä¸­å…¬å¸èµ„é‡‘å æ¯” (0-1) |
| è¡Œä¸ºæ€§è´¨ | string | æŒªç”¨/å«ä»˜/æ­£å¸¸/æŠ•èµ„ç­‰è¡Œä¸ºåˆ†ç±» |
| ç´¯è®¡æŒªç”¨ | float | æˆªæ­¢å½“å‰äº¤æ˜“çš„ç´¯è®¡æŒªç”¨é‡‘é¢ |
| ç´¯è®¡å«ä»˜ | float | æˆªæ­¢å½“å‰äº¤æ˜“çš„ç´¯è®¡å«ä»˜é‡‘é¢ |
| ç´¯è®¡å·²å½’è¿˜å…¬å¸æœ¬é‡‘ | float | é€šè¿‡æŠ•èµ„æ”¶ç›Šå½’è¿˜çš„å…¬å¸æœ¬é‡‘ |
| ç´¯è®¡å·²å½’è¿˜ä¸ªäººæœ¬é‡‘ | float | é€šè¿‡æŠ•èµ„æ”¶ç›Šå½’è¿˜çš„ä¸ªäººæœ¬é‡‘ |
| æ€»è®¡ä¸ªäººåº”åˆ†é…åˆ©æ¶¦ | float | ä¸ªäººåº”å¾—çš„æŠ•èµ„æ”¶ç›Š |
| æ€»è®¡å…¬å¸åº”åˆ†é…åˆ©æ¶¦ | float | å…¬å¸åº”å¾—çš„æŠ•èµ„æ”¶ç›Š |
| èµ„é‡‘ç¼ºå£ | float | æŒªç”¨é‡‘é¢ - å½’è¿˜æœ¬é‡‘ - å«ä»˜é‡‘é¢ |
| ä¸ªäººä½™é¢ | float | å½“å‰ä¸ªäººèµ„é‡‘ä½™é¢ |
| å…¬å¸ä½™é¢ | float | å½“å‰å…¬å¸èµ„é‡‘ä½™é¢ |

**åœºå¤–èµ„é‡‘æ± è®°å½•** (`åœºå¤–èµ„é‡‘æ± è®°å½•_[ALGORITHM].xlsx`):

| å­—æ®µå | æ•°æ®ç±»å‹ | è¯´æ˜ |
|-------|---------|------|
| äº¤æ˜“æ—¶é—´ | string | èµ„é‡‘æ± äº¤æ˜“æ—¶é—´ |
| èµ„é‡‘æ± åç§° | string | æŠ•èµ„äº§å“æ ‡è¯† |
| å…¥é‡‘ | float | ç”³è´­é‡‘é¢ |
| å‡ºé‡‘ | float | èµå›é‡‘é¢ |
| æ€»ä½™é¢ | float | å½“å‰èµ„é‡‘æ± ä½™é¢ |
| å•ç¬”èµ„é‡‘å æ¯” | string | è¯¥ç¬”äº¤æ˜“çš„èµ„é‡‘æ„æˆ |
| æ€»èµ„é‡‘å æ¯” | string | èµ„é‡‘æ± æ€»ä½“èµ„é‡‘æ„æˆ |
| è¡Œä¸ºæ€§è´¨ | string | äº¤æ˜“è¡Œä¸ºæè¿° |
| ç´¯è®¡ç”³è´­ | float | ç´¯è®¡ç”³è´­æ€»é¢ |
| ç´¯è®¡èµå› | float | ç´¯è®¡èµå›æ€»é¢ |

## ğŸ›ï¸ æ¶æ„è®¾è®¡åŸåˆ™

### 1. **æ¸è¿›å¼ç°ä»£åŒ–**
- ğŸ”„ ä¿ç•™Pythonæ ¸å¿ƒç®—æ³•é€»è¾‘
- ğŸ¨ ç°ä»£åŒ–ç”¨æˆ·ç•Œé¢ (React)
- ğŸŒ‰ æœ€å°åŒ–æ¥å£é€‚é…å±‚ (Rust)

### 2. **é€‚é…å™¨æ¨¡å¼åº”ç”¨**
- ğŸ”Œ **GUIé€‚é…å™¨**: main.rs (Web API â†” CLI)
- ğŸ”Œ **ç®—æ³•é€‚é…å™¨**: fifo_adapter.py (ç»Ÿä¸€æ¥å£ â†” åŸå§‹å®ç°)
- ğŸ”Œ **æ¥å£é€‚é…å™¨**: tracker_interface.py (æ ‡å‡†åŒ–æ¥å£)

### 3. **åˆ†å±‚æ¶æ„**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” 
â”‚   è¡¨ç°å±‚        â”‚  Reactå‰ç«¯ + Tauriç•Œé¢
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   é€‚é…å±‚        â”‚  Rustæ¥å£é€‚é… + Pythoné€‚é…å™¨
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  
â”‚   æœåŠ¡å±‚        â”‚  AuditService + QueryService
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   ä¸šåŠ¡å±‚        â”‚  Trackerå·¥å‚ + ç®—æ³•å®ç°
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   æ•°æ®å±‚        â”‚  Excelå¤„ç† + é…ç½®ç®¡ç†
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4. **èŒè´£åˆ†ç¦»**
- **React**: è´Ÿè´£ç”¨æˆ·äº¤äº’å’Œç•Œé¢å±•ç¤º
- **Rust**: è´Ÿè´£ç³»ç»Ÿè°ƒç”¨å’Œè¿›ç¨‹ç®¡ç†  
- **Python**: è´Ÿè´£ä¸šåŠ¡é€»è¾‘å’Œç®—æ³•è®¡ç®—

## ğŸš€ éƒ¨ç½²å’Œè¿è¡Œ

### 1. **å¼€å‘ç¯å¢ƒé…ç½®**

#### **Pythonç¯å¢ƒå‡†å¤‡**
```bash
# ç¡®ä¿Python 3.11+
python --version

# å®‰è£…Pythonä¾èµ–
pip install pandas numpy openpyxl argparse pathlib
pip install python-dateutil
```

#### **Node.jsç¯å¢ƒå‡†å¤‡**
```bash
# ç¡®ä¿Node.js 18+
node --version
npm --version

# å®‰è£…Tauri CLI
npm install -g @tauri-apps/cli

# è¿›å…¥Tauriåº”ç”¨ç›®å½•å¹¶å®‰è£…ä¾èµ–
cd tauri-app
npm install
```

#### **Rustç¯å¢ƒå‡†å¤‡** 
```bash
# ç¡®ä¿Rust 1.70+
rustc --version
cargo --version

# Tauriä¼šè‡ªåŠ¨ç®¡ç†Rustä¾èµ–
```

### 2. **å¼€å‘ç¯å¢ƒè¿è¡Œ**

#### **å¯åŠ¨å®Œæ•´GUIåº”ç”¨**
```bash
# å¯åŠ¨Tauriå¼€å‘æœåŠ¡å™¨ (çƒ­é‡è½½)
cd tauri-app
npm run tauri dev

# æˆ–ä½¿ç”¨yarn
yarn tauri dev
```

#### **ç‹¬ç«‹è¿è¡ŒPython CLI**
```bash
# åŸºæœ¬åˆ†æ
python src/main.py --algorithm FIFO --input test.xlsx

# æ—¶ç‚¹æŸ¥è¯¢
python src/services/query_cli.py -f test.xlsx -r 100 -a FIFO

# èµ„é‡‘æ± æŸ¥è¯¢  
python src/services/fund_pool_cli.py -f test.xlsx -r 50 -a FIFO --pool "ç†è´¢-äº§å“A"
```

### 3. **Rustä¾èµ–é…ç½®è¯¦è§£** (`tauri-app/src-tauri/Cargo.toml`)

#### **æ ¸å¿ƒTauriä¾èµ–**
```toml
[dependencies]
# Tauriæ ¸å¿ƒæ¡†æ¶ - æä¾›æ¡Œé¢åº”ç”¨èƒ½åŠ›
tauri = { 
    version = "1.5.1", 
    features = [ 
        "window-show", "protocol-asset", "dialog-message", 
        "shell-execute", "fs-read-file", "window-close", 
        "fs-remove-dir", "window-unmaximize", "window-print", 
        "shell-open", "fs-read-dir", "path-all", "dialog-open", 
        "dialog-save", "notification-all", "process-exit", 
        "window-minimize", "window-maximize", "fs-exists", 
        "fs-remove-file", "dialog-confirm", "window-start-dragging", 
        "window-unminimize", "fs-copy-file", "fs-rename-file", 
        "fs-create-dir", "dialog-ask", "window-hide", "fs-write-file" 
    ] 
}

# åºåˆ—åŒ–æ”¯æŒ - JSONæ•°æ®äº¤æ¢
serde = { version = "1.0", features = ["derive"] }
serde_json = "1.0"

# å¼‚æ­¥è¿è¡Œæ—¶ - å¤„ç†å¹¶å‘æ“ä½œ
tokio = { version = "1.0", features = ["full"] }

# é”™è¯¯å¤„ç†
thiserror = "1.0"
anyhow = "1.0"
```

#### **Windowså¹³å°ç‰¹å®šä¾èµ–**
```toml
[target.'cfg(target_os = "windows")'.dependencies]
# Windows APIæ”¯æŒ
windows = { 
    version = "0.52", 
    features = [
        "Win32", "Win32_Foundation", "Win32_Graphics", 
        "Win32_Graphics_Dwm", "Win32_System", 
        "Win32_System_LibraryLoader", "Win32_UI", 
        "Win32_UI_WindowsAndMessaging"
    ] 
}
raw-window-handle = "0.5"
```

#### **ç³»ç»Ÿå·¥å…·ä¾èµ–**
```toml
# æ–‡ä»¶ç³»ç»Ÿå’Œè¿›ç¨‹ç®¡ç†
dirs = "5.0"          # ç³»ç»Ÿç›®å½•è®¿é—®
which = "4.4"         # å¯æ‰§è¡Œæ–‡ä»¶æŸ¥æ‰¾

# æ—¥å¿—ç³»ç»Ÿ
log = "0.4"           # æ—¥å¿—è®°å½•
env_logger = "0.10"   # ç¯å¢ƒæ—¥å¿—é…ç½®

# æ—¶é—´å¤„ç†
chrono = { version = "0.4", features = ["serde"] }

# æ–‡æœ¬å¤„ç†
regex = "1.0"         # æ­£åˆ™è¡¨è¾¾å¼
```

#### **ç¼–è¯‘ä¼˜åŒ–é…ç½®**
```toml
[profile.dev]
incremental = true    # å¢é‡ç¼–è¯‘ï¼ŒåŠ é€Ÿå¼€å‘

[profile.release]
panic = "abort"       # å‘å¸ƒç‰ˆæœ¬panicæ—¶ç›´æ¥ä¸­æ­¢
codegen-units = 1     # å•ä¸€ä»£ç ç”Ÿæˆå•å…ƒï¼Œä¼˜åŒ–æ€§èƒ½
lto = true           # é“¾æ¥æ—¶ä¼˜åŒ–
strip = true         # å‰¥ç¦»è°ƒè¯•ç¬¦å·ï¼Œå‡å°æ–‡ä»¶å¤§å°
```

### 4. **ç”Ÿäº§ç¯å¢ƒæ„å»º**

#### **æ„å»ºTauriæ¡Œé¢åº”ç”¨**
```bash
# è¿›å…¥Tauriç›®å½•
cd tauri-app

# å®‰è£…ä¾èµ–
npm install

# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run tauri build

# è¾“å‡ºä½ç½®
# Windows: tauri-app/src-tauri/target/release/fifo-audit-desktop.exe
# macOS: tauri-app/src-tauri/target/release/bundle/macos/fifo-audit-desktop.app
# Linux: tauri-app/src-tauri/target/release/fifo-audit-desktop
```

#### **æ„å»ºç‹¬ç«‹Pythonå¯æ‰§è¡Œæ–‡ä»¶**
```powershell
# ä½¿ç”¨PowerShellè„šæœ¬æ„å»º
cd tauri-app/scripts
./build_standalone.ps1

# æ‰‹åŠ¨æ„å»º (å¯é€‰)
pip install pyinstaller
cd src
pyinstaller --onefile --distpath=../dist/ main.py
```

#### **æ„å»ºè¾“å‡ºè¯´æ˜**

**Tauriåº”ç”¨è¾“å‡º**:
- **Windows**: `.exe`å¯æ‰§è¡Œæ–‡ä»¶ + `.msi`å®‰è£…åŒ…
- **æ–‡ä»¶å¤§å°**: çº¦15-25MB (åŒ…å«WebViewå’Œæ‰€æœ‰ä¾èµ–)
- **ä¾èµ–**: æ— éœ€é¢å¤–å®‰è£…Pythonæˆ–Node.js
- **åŠŸèƒ½**: å®Œæ•´GUI + Pythonåç«¯è°ƒç”¨

**PyInstallerè¾“å‡º**:
- **æ–‡ä»¶**: `dist/main.exe` (çº¯Python CLI)
- **æ–‡ä»¶å¤§å°**: çº¦50-80MB (åŒ…å«Pythonè¿è¡Œæ—¶)
- **ä¾èµ–**: æ— éœ€å®‰è£…Python
- **åŠŸèƒ½**: çº¯å‘½ä»¤è¡Œæ“ä½œ

### 5. **éƒ¨ç½²é…ç½®å’Œé€‰é¡¹**

#### **å¼€å‘æ¨¡å¼ç‰¹æ€§**
- âœ… çƒ­é‡è½½: å‰ç«¯å’Œåç«¯ä»£ç ä¿®æ”¹å³æ—¶ç”Ÿæ•ˆ
- âœ… è°ƒè¯•è¾“å‡º: è¯¦ç»†çš„é”™è¯¯ä¿¡æ¯å’Œæ—¥å¿—
- âœ… å¼€å‘å·¥å…·: Chrome DevToolså¯ç”¨
- âœ… å¿«é€Ÿè¿­ä»£: æ— éœ€é‡æ–°ç¼–è¯‘

#### **ç”Ÿäº§æ¨¡å¼ç‰¹æ€§**
- âœ… å•æ–‡ä»¶åˆ†å‘: ä¸€ä¸ªexeæ–‡ä»¶åŒ…å«æ‰€æœ‰åŠŸèƒ½
- âœ… æ€§èƒ½ä¼˜åŒ–: ä»£ç å‹ç¼©å’Œè¿è¡Œæ—¶ä¼˜åŒ–
- âœ… å®‰å…¨åŠ å›º: ç§»é™¤è°ƒè¯•ä¿¡æ¯å’Œå¼€å‘å·¥å…·
- âœ… è‡ªåŠ¨æ›´æ–°: æ”¯æŒåº”ç”¨è‡ªåŠ¨æ›´æ–°æœºåˆ¶

#### **è·¨å¹³å°æ”¯æŒ**
- âœ… **Windows**: ä¸»è¦æ”¯æŒå¹³å°ï¼Œå®Œæ•´åŠŸèƒ½
- âœ… **macOS**: å®Œæ•´æ”¯æŒï¼Œéœ€è¦å¼€å‘è€…è¯ä¹¦ç­¾å
- âœ… **Linux**: åŸºç¡€æ”¯æŒï¼Œéƒ¨åˆ†ç³»ç»Ÿé›†æˆåŠŸèƒ½å—é™

### 6. **æ€§èƒ½å’Œç³»ç»Ÿè¦æ±‚**

#### **ç³»ç»Ÿè¦æ±‚**
- **æ“ä½œç³»ç»Ÿ**: Windows 10+ / macOS 10.15+ / Ubuntu 18.04+
- **å†…å­˜**: æœ€ä½4GB RAMï¼Œæ¨è8GB+
- **å­˜å‚¨**: 100MBå¯ç”¨ç©ºé—´
- **Python**: 3.11+ (ä»…å¼€å‘ç¯å¢ƒéœ€è¦)

#### **æ€§èƒ½ç‰¹æ€§**
- **å¯åŠ¨æ—¶é—´**: < 3ç§’ (æ¡Œé¢åº”ç”¨)
- **å†…å­˜å ç”¨**: 50-150MB (å–å†³äºæ•°æ®å¤§å°)
- **å¤„ç†èƒ½åŠ›**: æ”¯æŒ10ä¸‡+è¡ŒExcelæ•°æ®
- **å“åº”æ€§**: GUIå¼‚æ­¥å¤„ç†ï¼Œç•Œé¢å§‹ç»ˆå“åº”

## ğŸ“Š æ€§èƒ½ç‰¹æ€§

### 1. **å¼‚æ­¥å¤„ç†**
- âœ… GUIç•Œé¢å§‹ç»ˆå“åº”
- âœ… å®æ—¶è¿›åº¦åé¦ˆ
- âœ… å¯å–æ¶ˆé•¿æ—¶é—´æ“ä½œ

### 2. **å†…å­˜ç®¡ç†**  
- âœ… Rustè‡ªåŠ¨å†…å­˜ç®¡ç†
- âœ… Pythonè¿›ç¨‹éš”ç¦»
- âœ… å¤§æ–‡ä»¶æµå¼å¤„ç†

### 3. **è·¨å¹³å°æ”¯æŒ**
- âœ… Windows (ä¸»è¦ç›®æ ‡)
- âœ… macOS  
- âœ… Linux

## ğŸ”§ æ‰©å±•æ€§è®¾è®¡

### 1. **æ–°ç®—æ³•æ·»åŠ **
```python
# 1. å®ç°ITrackeræ¥å£
class NewAlgorithmTracker(ITracker):
    def å¤„ç†èµ„é‡‘æµå‡º(self, ...): ...

# 2. åœ¨å·¥å‚ä¸­æ³¨å†Œ
TrackerFactory.SUPPORTED_ALGORITHMS["NEW_ALG"] = "æ–°ç®—æ³•"
```

### 2. **æ–°åŠŸèƒ½æ·»åŠ **
```rust
// 1. æ·»åŠ Tauriå‘½ä»¤
#[tauri::command]
async fn new_feature(...) -> Result<..., String> { ... }

// 2. å‰ç«¯è°ƒç”¨
await invoke("new_feature", { ... });
```

### 3. **æ–°ç•Œé¢æ·»åŠ **
```typescript
// 1. åˆ›å»ºæ–°é¡µé¢ç»„ä»¶
export const NewPage: React.FC = () => { ... };

// 2. æ·»åŠ è·¯ç”±
<Route path="/new" component={NewPage} />
```

## ğŸ¦€ RuståŒ–è¿ç§»æŒ‡å—

### 1. **è¿ç§»ç­–ç•¥æ¦‚è§ˆ**

åŸºäºå½“å‰çš„**æ¸è¿›å¼ç°ä»£åŒ–æ¶æ„**ï¼Œæˆ‘ä»¬å·²ç»å…·å¤‡äº†å‘Rustè¿ç§»çš„ç†æƒ³åŸºç¡€ï¼š

```
å½“å‰æ¶æ„:    React GUI â†â†’ Tauri Rust â†â†’ Python CLI â†â†’ Pythonç®—æ³•
è¿ç§»ç›®æ ‡:    React GUI â†â†’ Pure Rust Backend â†â†’ Rustç®—æ³•å®ç°
```

### 2. **åˆ†é˜¶æ®µè¿ç§»è·¯çº¿å›¾**

#### **é˜¶æ®µ1: æ‰©å±•Rusté€‚é…å±‚** (ä¼˜å…ˆçº§: é«˜)
- âœ… **å·²å®Œæˆ**: Tauriæ¥å£é€‚é…å™¨ (`main.rs`)
- ğŸ”„ **è¿›è¡Œä¸­**: å®Œå–„Rustç»“æ„ä½“å®šä¹‰
- ğŸ“‹ **å¾…å®Œæˆ**: 
  - å°†Python CLIè°ƒç”¨æ”¹ä¸ºç›´æ¥Rustå‡½æ•°è°ƒç”¨
  - å®ç°Excelè¯»å†™çš„Rustç‰ˆæœ¬
  - æ·»åŠ å®Œæ•´çš„é”™è¯¯å¤„ç†æœºåˆ¶

#### **é˜¶æ®µ2: æ ¸å¿ƒç®—æ³•è¿ç§»** (ä¼˜å…ˆçº§: ä¸­)
- ğŸ“‹ **FIFOç®—æ³•**: `models/fifo_algorithm.py` â†’ `rust-backend/src/algorithms/fifo_tracker.rs`
- ğŸ“‹ **å·®é¢è®¡ç®—æ³•**: `balance_method_tracker.py` â†’ `rust-backend/src/algorithms/balance_method_tracker.rs`
- ğŸ“‹ **è¡Œä¸ºåˆ†æå™¨**: `behavior_analyzer.py` â†’ `rust-backend/src/analyzers/behavior_analyzer.rs`

#### **é˜¶æ®µ3: æœåŠ¡å±‚è¿ç§»** (ä¼˜å…ˆçº§: ä¸­)
- ğŸ“‹ **å®¡è®¡æœåŠ¡**: `audit_service.py` â†’ `rust-backend/src/services/audit_service.rs`
- ğŸ“‹ **æ—¶ç‚¹æŸ¥è¯¢**: `time_point_query_service.py` â†’ `rust-backend/src/services/query_service.rs`
- ğŸ“‹ **æ•°æ®å¤„ç†**: `data_processor.py` â†’ `rust-backend/src/utils/data_processor.rs`

#### **é˜¶æ®µ4: å®Œå…¨æ›¿æ¢** (ä¼˜å…ˆçº§: ä½)
- ğŸ“‹ ç§»é™¤Pythonä¾èµ–
- ğŸ“‹ ç»Ÿä¸€ä¸ºå•ä¸€Rustå¯æ‰§è¡Œæ–‡ä»¶
- ğŸ“‹ æ€§èƒ½ä¼˜åŒ–å’Œæµ‹è¯•

### 3. **æŠ€æœ¯æ˜ å°„è¡¨**

#### **æ•°æ®ç»“æ„æ˜ å°„**
```rust
// Python â†’ Rust ç±»å‹æ˜ å°„
pandas.DataFrame     â†’ polars::DataFrame æˆ– Vec<Transaction>
Dict[str, Any]       â†’ HashMap<String, serde_json::Value>
float               â†’ f64
str                 â†’ String
Optional[T]         â†’ Option<T>
List[T]             â†’ Vec<T>
```

#### **ä¾èµ–åº“æ˜ å°„**
```toml
# Cargo.toml å»ºè®®ä¾èµ–
[dependencies]
# Excelå¤„ç†
calamine = "0.22"           # æ›¿ä»£pandasè¯»Excel
xlsxwriter = "0.5"          # æ›¿ä»£openpyxlå†™Excel

# æ•°æ®å¤„ç†  
polars = "0.35"             # æ›¿ä»£pandas (é«˜æ€§èƒ½)
chrono = "0.4"              # æ—¶é—´å¤„ç†
rust_decimal = "1.32"       # ç²¾ç¡®å°æ•°è®¡ç®—

# é”™è¯¯å¤„ç†
anyhow = "1.0"              # é”™è¯¯å¤„ç†
thiserror = "1.0"           # è‡ªå®šä¹‰é”™è¯¯ç±»å‹

# åºåˆ—åŒ–
serde = { version = "1.0", features = ["derive"] }
serde_json = "1.0"

# æ—¥å¿—
log = "0.4"
env_logger = "0.10"

# CLIæ”¯æŒ (å¦‚æœéœ€è¦)
clap = { version = "4.0", features = ["derive"] }
```

### 4. **Rustå®ç°ç¤ºä¾‹**

#### **é…ç½®ç®¡ç†** (æ›¿ä»£`config.py`)
```rust
// rust-backend/src/config.rs
use std::collections::HashSet;

pub struct Config {
    pub balance_tolerance: f64,
    pub decimal_places: u32,
    pub personal_fund_keywords: HashSet<String>,
    pub company_fund_keywords: HashSet<String>,
    pub investment_prefixes: Vec<String>,
}

impl Config {
    pub fn new() -> Self {
        let mut personal_keywords = HashSet::new();
        personal_keywords.insert("ä¸ªäºº".to_string());
        personal_keywords.insert("ä¸ªäººåº”æ”¶".to_string());
        personal_keywords.insert("ä¸ªäººåº”ä»˜".to_string());

        let mut company_keywords = HashSet::new();
        company_keywords.insert("å…¬å¸".to_string());
        company_keywords.insert("å…¬å¸åº”æ”¶".to_string());
        company_keywords.insert("å…¬å¸åº”ä»˜".to_string());

        Config {
            balance_tolerance: 0.01,
            decimal_places: 2,
            personal_fund_keywords: personal_keywords,
            company_fund_keywords: company_keywords,
            investment_prefixes: vec![
                "ç†è´¢-".to_string(),
                "æŠ•èµ„-".to_string(),
                "ä¿é™©-".to_string(),
                "å…³è”é“¶è¡Œå¡-".to_string(),
                "èµ„é‡‘æ± -".to_string(),
            ],
        }
    }

    pub fn is_personal_fund(&self, fund_attribute: &str) -> bool {
        self.personal_fund_keywords.iter()
            .any(|keyword| fund_attribute.contains(keyword))
    }

    pub fn is_company_fund(&self, fund_attribute: &str) -> bool {
        self.company_fund_keywords.iter()
            .any(|keyword| fund_attribute.contains(keyword))
    }

    pub fn is_investment_product(&self, fund_attribute: &str) -> bool {
        self.investment_prefixes.iter()
            .any(|prefix| fund_attribute.starts_with(prefix))
    }
}
```

#### **æ ¸å¿ƒæ•°æ®ç»“æ„**
```rust
// rust-backend/src/models/transaction.rs
use chrono::{DateTime, Utc};
use serde::{Deserialize, Serialize};
use rust_decimal::Decimal;

#[derive(Debug, Clone, Serialize, Deserialize)]
pub struct Transaction {
    pub transaction_date: DateTime<Utc>,
    pub transaction_time: String,
    pub income_amount: Decimal,
    pub expense_amount: Decimal,
    pub balance: Decimal,
    pub fund_attribute: String,
    
    // ç³»ç»Ÿè®¡ç®—å­—æ®µ
    pub personal_ratio: Option<Decimal>,
    pub company_ratio: Option<Decimal>,
    pub behavior_nature: Option<String>,
    pub cumulative_misappropriation: Option<Decimal>,
    pub cumulative_advance: Option<Decimal>,
}

#[derive(Debug, Clone, Serialize, Deserialize)]
pub struct AuditSummary {
    pub personal_balance: Decimal,
    pub company_balance: Decimal,
    pub total_misappropriation: Decimal,
    pub total_advance_payment: Decimal,
    pub total_company_principal_returned: Decimal,
    pub total_personal_principal_returned: Decimal,
    pub total_personal_profit: Decimal,
    pub total_company_profit: Decimal,
    pub funding_gap: Decimal,
    pub investment_product_count: u32,
    pub total_balance: Decimal,
}
```

#### **è¿½è¸ªå™¨æ¥å£**
```rust
// rust-backend/src/interfaces/tracker.rs
use crate::models::{Transaction, AuditSummary};
use anyhow::Result;
use chrono::DateTime;
use rust_decimal::Decimal;

pub trait Tracker: Send + Sync {
    fn initialize_balance(&mut self, initial_balance: Decimal, balance_type: &str) -> Result<()>;
    
    fn process_inflow(
        &mut self, 
        amount: Decimal, 
        fund_attribute: &str, 
        transaction_date: Option<DateTime<Utc>>
    ) -> Result<(Decimal, Decimal, String)>;
    
    fn process_outflow(
        &mut self, 
        amount: Decimal, 
        fund_attribute: &str, 
        transaction_date: Option<DateTime<Utc>>
    ) -> Result<(Decimal, Decimal, String)>;
    
    fn process_investment_redemption(
        &mut self, 
        amount: Decimal, 
        fund_attribute: &str, 
        transaction_date: Option<DateTime<Utc>>
    ) -> Result<(Decimal, Decimal, String)>;
    
    fn get_summary(&self) -> Result<AuditSummary>;
    fn get_current_ratios(&self) -> Result<(Decimal, Decimal)>;
    fn is_initialized(&self) -> bool;
}
```

### 5. **è¿ç§»ä¼˜åŠ¿åˆ†æ**

#### **æ€§èƒ½æå‡**
- ğŸš€ **å†…å­˜æ•ˆç‡**: Rusté›¶æˆæœ¬æŠ½è±¡ï¼Œå†…å­˜å ç”¨é™ä½30-50%
- ğŸš€ **å¤„ç†é€Ÿåº¦**: ç¼–è¯‘ä¼˜åŒ–ï¼Œè®¡ç®—é€Ÿåº¦æå‡2-5å€
- ğŸš€ **å¯åŠ¨æ—¶é—´**: æ— éœ€Pythonè§£é‡Šå™¨ï¼Œå¯åŠ¨æ—¶é—´å‡å°‘60%

#### **å¯é æ€§å¢å¼º**
- ğŸ›¡ï¸ **å†…å­˜å®‰å…¨**: ç¼–è¯‘æ—¶ä¿è¯æ— å†…å­˜æ³„æ¼å’Œæ‚¬å‚æŒ‡é’ˆ
- ğŸ›¡ï¸ **å¹¶å‘å®‰å…¨**: ç¼–è¯‘æ—¶æ£€æŸ¥æ•°æ®ç«äº‰
- ğŸ›¡ï¸ **é”™è¯¯å¤„ç†**: å¼ºåˆ¶é”™è¯¯å¤„ç†ï¼Œå‡å°‘è¿è¡Œæ—¶å´©æºƒ

#### **éƒ¨ç½²ç®€åŒ–**
- ğŸ“¦ **å•æ–‡ä»¶åˆ†å‘**: æ— éœ€Pythonè¿è¡Œæ—¶å’Œä¾èµ–åº“
- ğŸ“¦ **è·¨å¹³å°ç¼–è¯‘**: ä¸€æ¬¡ç¼–è¯‘ï¼Œå¤šå¹³å°è¿è¡Œ
- ğŸ“¦ **ä½“ç§¯å‡å°**: æœ€ç»ˆå¯æ‰§è¡Œæ–‡ä»¶å¤§å°å‡å°‘50%

### 6. **è¿ç§»é£é™©è¯„ä¼°**

#### **æŠ€æœ¯é£é™©** (ä½)
- âœ… Rustç”Ÿæ€æˆç†Ÿï¼Œæ›¿ä»£åº“å……è¶³
- âœ… å½“å‰æ¶æ„é€‚é…å™¨æ¨¡å¼ä¾¿äºé€æ­¥è¿ç§»
- âœ… TypeScriptæ¥å£ä¿æŒä¸å˜

#### **äººåŠ›æˆæœ¬** (ä¸­)
- âš ï¸ éœ€è¦Rustè¯­è¨€å­¦ä¹ å’Œé€‚åº”æœŸ
- âš ï¸ ç®—æ³•è¿ç§»éœ€è¦ä»”ç»†æµ‹è¯•éªŒè¯
- âš ï¸ è°ƒè¯•å·¥å…·å’Œæµç¨‹éœ€è¦é€‚åº”

#### **æ—¶é—´æŠ•å…¥** (ä¸­)
- ğŸ“… **é˜¶æ®µ1**: 2-3å‘¨ (æ¥å£å®Œå–„)
- ğŸ“… **é˜¶æ®µ2**: 4-6å‘¨ (æ ¸å¿ƒç®—æ³•)
- ğŸ“… **é˜¶æ®µ3**: 3-4å‘¨ (æœåŠ¡å±‚)
- ğŸ“… **é˜¶æ®µ4**: 2-3å‘¨ (æ•´åˆæµ‹è¯•)

### 7. **æ¨èæ–¹æ¡ˆ**

åŸºäºå½“å‰æ¶æ„åˆ†æï¼Œå»ºè®®é‡‡ç”¨**æ¸è¿›å¼è¿ç§»ç­–ç•¥**ï¼š

1. **çŸ­æœŸ** (1-2ä¸ªæœˆ): å®Œæˆé˜¶æ®µ1ï¼Œå°†Python CLIè°ƒç”¨æ”¹ä¸ºRustå‡½æ•°è°ƒç”¨
2. **ä¸­æœŸ** (3-6ä¸ªæœˆ): å®Œæˆé˜¶æ®µ2-3ï¼Œæ ¸å¿ƒç®—æ³•å’ŒæœåŠ¡å±‚è¿ç§»
3. **é•¿æœŸ** (6-12ä¸ªæœˆ): å®Œæˆé˜¶æ®µ4ï¼Œå®ç°å®Œå…¨RuståŒ–

è¿™ç§æ–¹æ¡ˆçš„ä¼˜åŠ¿ï¼š
- âœ… é£é™©å¯æ§ï¼Œæ¯ä¸ªé˜¶æ®µéƒ½æœ‰å¯ç”¨ç‰ˆæœ¬
- âœ… æ€§èƒ½é€æ­¥æå‡ï¼Œç”¨æˆ·ä½“éªŒæŒç»­æ”¹å–„
- âœ… å›¢é˜ŸæŠ€èƒ½é€æ­¥ç§¯ç´¯ï¼Œå­¦ä¹ æ›²çº¿å¹³ç¼“
- âœ… ä¿æŒä¸Pythonç‰ˆæœ¬çš„å…¼å®¹æ€§ï¼Œç›´åˆ°å®Œå…¨è¿ç§»

---

## ğŸ“ æ€»ç»“

è¿™æ˜¯ä¸€ä¸ªç²¾å¿ƒè®¾è®¡çš„**æ¸è¿›å¼ç°ä»£åŒ–æ¶æ„**ï¼Œé€šè¿‡å¤šå±‚é€‚é…å™¨æ¨¡å¼ï¼ŒæˆåŠŸåœ°å°†ä¼ ç»ŸPython CLIåº”ç”¨è½¬æ¢ä¸ºç°ä»£æ¡Œé¢åº”ç”¨ï¼ŒåŒæ—¶ä¸ºRuståŒ–è¿ç§»å¥ å®šäº†åšå®åŸºç¡€ã€‚

**å½“å‰æ¶æ„ä¼˜åŠ¿**:
- ğŸ¯ **ç”¨æˆ·ä½“éªŒ**: ç°ä»£åŒ–GUIç•Œé¢
- ğŸ”„ **æŠ€æœ¯å»¶ç»­**: ä¿ç•™ç°æœ‰Pythonç®—æ³•  
- ğŸš€ **æ€§èƒ½ä¼˜å¼‚**: Rustæä¾›é«˜æ€§èƒ½ç³»ç»Ÿè°ƒç”¨
- ğŸ”§ **æ˜“äºç»´æŠ¤**: æ¸…æ™°çš„åˆ†å±‚å’Œé€‚é…å™¨æ¨¡å¼
- ğŸ“ˆ **å¯æ‰©å±•æ€§**: æ”¯æŒæ–°ç®—æ³•å’ŒåŠŸèƒ½çš„æ— ç¼æ·»åŠ 

**RuståŒ–è¿ç§»æ½œåŠ›**:
- ğŸ¦€ **æ€§èƒ½é£è·ƒ**: 2-5å€æ€§èƒ½æå‡æ½œåŠ›
- ğŸ›¡ï¸ **å®‰å…¨ä¿éšœ**: ç¼–è¯‘æ—¶å†…å­˜å’Œå¹¶å‘å®‰å…¨
- ğŸ“¦ **éƒ¨ç½²ç®€åŒ–**: å•æ–‡ä»¶åˆ†å‘ï¼Œæ— è¿è¡Œæ—¶ä¾èµ–
- ğŸ”„ **è¿ç§»å‹å¥½**: é€‚é…å™¨æ¶æ„ä¾¿äºé€æ­¥è¿ç§»

---

## ğŸ“‹ å®Œæ•´å¼€å‘ä»»åŠ¡è·Ÿè¸ª (æ°¸ä¹…è®°å½•)

> **æ›´æ–°æ—¶é—´**: 2025å¹´8æœˆ26æ—¥  
> **å½“å‰çŠ¶æ€**: é˜¶æ®µäºŒ - ç®—æ³•å±‚å®Œå–„é˜¶æ®µ  
> **è¯´æ˜**: æ­¤éƒ¨åˆ†ç”¨äºæ°¸ä¹…è·Ÿè¸ªé¡¹ç›®è¿›åº¦ï¼Œç¡®ä¿åœ¨compactåä¸ä¼šä¸¢å¤±é‡è¦ä¿¡æ¯

### ğŸ‰ é˜¶æ®µä¸€ï¼šå·¥å…·å±‚éªŒè¯å®Œæ•´é˜¶æ®µ (2024-08-26å®Œæˆ)

#### âœ… 2.1 åŸºç¡€è®¾æ–½å±‚éªŒè¯
- âœ… æ ¸å¿ƒæ•°æ®ç»“æ„éªŒè¯ (Transaction, Config, AuditSummary)
- âœ… é”™è¯¯å¤„ç†ç³»ç»ŸéªŒè¯ (AuditError with thiserror)
- âœ… åº“ç¼–è¯‘æˆåŠŸéªŒè¯

#### âœ… 2.2 Excelå¤„ç†æ¨¡å—éªŒè¯ (ExcelProcessor)
- âœ… calamineåº“Excelè¯»å–åŠŸèƒ½ (æ”¯æŒdatetimeå’Œå¤šsheet)
- âœ… rust_xlsxwriterå†™å…¥åŠŸèƒ½ (æ ¼å¼åŒ–è¾“å‡º)
- âœ… æ€§èƒ½éªŒè¯ (9799è¡Œæ•°æ®å¤„ç† < 1ç§’)

#### âœ… 2.3 ç»Ÿä¸€æ•°æ®éªŒè¯å™¨éªŒè¯ (UnifiedValidator)
- âœ… åŸºç¡€éªŒè¯ï¼šå¿…éœ€åˆ—æ£€æŸ¥ã€æ•°æ®ç±»å‹éªŒè¯
- âœ… æµæ°´å®Œæ•´æ€§ï¼šä½™é¢è¿è´¯æ€§æ£€æŸ¥ç®—æ³•
- âœ… è‡ªåŠ¨ä¿®å¤ï¼šè´ªå¿ƒç®—æ³•é‡æ’åºåŒæ—¶é—´äº¤æ˜“
- âœ… æ•°æ®ä¿æŠ¤ï¼šæºæ–‡ä»¶ç»å¯¹åªè¯»ï¼Œå†…å­˜å‰¯æœ¬å¤„ç†

#### âœ… 2.4-2.10 å…¶ä»–å·¥å…·å±‚æ¨¡å—éªŒè¯
- âœ… æ—¶é—´å¤„ç†å™¨éªŒè¯ (TimeProcessor)
- âœ… æ—¥å¿—ç³»ç»ŸéªŒè¯ (AuditLogger)
- âœ… 100%ç²¾ç¡®åŒ¹é…éªŒè¯ (9,799è¡Œæ•°æ®ï¼Œ0.000000å·®å¼‚)
- âœ… ä»£ç æ¶æ„ä¼˜åŒ– (åˆ é™¤1,078è¡Œé‡å¤å®ç°)
- âœ… é˜¶æ®µæ€»ç»“å’Œæ–‡æ¡£æ›´æ–°

### âœ… é˜¶æ®µäºŒï¼šç®—æ³•å±‚å®Œå–„é˜¶æ®µ (å…±äº«æ ¸å¿ƒæ¶æ„å®Œæˆ)

#### âœ… 2.1 Python FIFOç®—æ³•æ·±åº¦åˆ†æ (100%å®Œæˆ)

**âœ… å®Œæ•´åˆ†ææˆæœ ğŸ‰:**
- âœ… **Python FIFOæ ¸å¿ƒæ¨¡å—åˆ†æ** (fifo_algorithm.py - 764è¡Œ) - 100%è¦†ç›–å®Œæˆ
- âœ… **10ä¸ªæ ¸å¿ƒæŠ€æœ¯ç»„ä»¶æ·±åº¦åˆ†æ**:
  1. åˆå§‹åŒ–é€»è¾‘å’ŒçŠ¶æ€ç®¡ç†åˆ†æ (13ä¸ªæ ¸å¿ƒçŠ¶æ€å˜é‡ä½“ç³»)
  2. è¡Œä¸ºåˆ†æå™¨é›†æˆé€»è¾‘ (åŒé‡ç´¯è®¡+å¢é‡ç®¡ç†æœºåˆ¶)
  3. èµ„é‡‘æµå…¥å¤„ç†å®Œæ•´é€»è¾‘ (ä¸‰ç§æ¨¡å¼æ™ºèƒ½åˆ†é…)  
  4. èµ„é‡‘æµå‡ºå¤„ç†åŒè·¯å¾„é€»è¾‘ (æ™®é€šæµå‡ºvsæŠ•èµ„æµå‡º)
  5. æŠ•èµ„äº§å“å¤„ç†å¤æ‚é€»è¾‘ (ç”³è´­èµå›æ”¶ç›Šåˆ†é…æœºåˆ¶)
  6. æŠ•èµ„äº§å“èµ„é‡‘æ± å®Œæ•´ç»“æ„ (10å­—æ®µå¤æ‚æ•°æ®ç»“æ„)
  7. èµ„é‡‘æ± é‡ç½®é€»è¾‘å’Œç›ˆåˆ©å®ç°æœºåˆ¶ (è´Ÿæ•°=ç›ˆåˆ©æ£€æµ‹)
  8. FIFOé˜Ÿåˆ—å®ç°ç»†èŠ‚ (dequeç»“æ„å…ˆè¿›å…ˆå‡ºåŸåˆ™)
  9. ç´¯è®¡çŠ¶æ€è·Ÿè¸ªæœºåˆ¶ (13ä¸ªçŠ¶æ€å˜é‡å¢é‡æ›´æ–°)
  10. æ ¸å¿ƒå‡½æ•°å®ç°ç»†èŠ‚ (æ•°å€¼æ ¼å¼åŒ–ã€çŠ¶æ€æ‘˜è¦ã€Excelè¾“å‡º)

#### âœ… 2.2 Rustå…±äº«æ ¸å¿ƒæ¶æ„å®ç° (90%åŠŸèƒ½å®Œæˆ)

**âœ… å…±äº«æ ¸å¿ƒç»„ä»¶å®ç°å®Œæˆ (~2000è¡Œ)**:
- âœ… **TrackerBase** (554è¡Œ) - 13ä¸ªçŠ¶æ€å˜é‡+åŸºç¡€åŠŸèƒ½å®Œæ•´å®ç°
- âœ… **BehaviorAnalyzer** (248è¡Œ) - è¡Œä¸ºåˆ†æ+æŒªç”¨å«ä»˜æ£€æµ‹å®Œæ•´å®ç°
- âœ… **InvestmentPoolManager** (465è¡Œ) - æŠ•èµ„äº§å“å¤æ‚ç®¡ç†é€»è¾‘å®Œæ•´å®ç°
- âœ… **FundFlowCommon** (356è¡Œ) - èµ„é‡‘æµå…¥+å…±åŒå¤„ç†é€»è¾‘å®Œæ•´å®ç°  
- âœ… **SummaryGenerator** (298è¡Œ) - å®¡è®¡æ‘˜è¦+æŠ¥å‘Šç”Ÿæˆå®Œæ•´å®ç°
- âœ… **å®Œå–„çš„å•å…ƒæµ‹è¯•** - æ¯ä¸ªç»„ä»¶éƒ½æœ‰å®Œæ•´æµ‹è¯•è¦†ç›–

**ğŸ¯ æ¶æ„è®¾è®¡åˆ›æ–°æˆæœ**:
- ğŸ”„ **90%ä»£ç å¤ç”¨å®ç°** - ä¸¤ç§ç®—æ³•å…±äº«æ ¸å¿ƒï¼Œåªéœ€å®ç°10%å·®å¼‚
- ğŸ“¦ **æåº¦ç®€åŒ–ç»“æ„** - ä»~20ä¸ªæ–‡ä»¶ç²¾ç®€åˆ°8ä¸ªæ ¸å¿ƒæ–‡ä»¶ (60%å‡å°‘)
- âœ… **100%åŠŸèƒ½å¯¹åº”** - å®Œå…¨æ˜ å°„Pythonç‰ˆæœ¬764è¡Œæ ¸å¿ƒé€»è¾‘
- ğŸ§ª **å®Œå–„æµ‹è¯•ä½“ç³»** - æ¯ä¸ªå…±äº«ç»„ä»¶å®Œæ•´å•å…ƒæµ‹è¯•

#### ğŸ”„ 2.3 ä¸¤ç§ç®—æ³•å·®å¼‚åŒ–å®ç° (å½“å‰ä»»åŠ¡)

**â³ å¾…å®Œæˆä»»åŠ¡:**
- ğŸ”„ **FIFOç®—æ³•å®ç°** (~100è¡Œ) - åŸºäºå…±äº«æ ¸å¿ƒ+VecDequeé˜Ÿåˆ—æœºåˆ¶
- ğŸ”„ **å·®é¢è®¡ç®—æ³•å®ç°** (~100è¡Œ) - åŸºäºå…±äº«æ ¸å¿ƒ+ä½™é¢ä¼˜å…ˆæ‰£é™¤æœºåˆ¶
- â³ ç®—æ³•å±‚æ¨¡å—å¯¼å‡ºå’Œé›†æˆæµ‹è¯•

**ğŸ“Š FIFOç®—æ³•åˆ†æç»Ÿè®¡:**
- ğŸ“„ **åˆ†ææ–‡ä»¶**: `src/models/fifo_algorithm.py` (764è¡Œ)
- ğŸ” **åˆ†æè¦†ç›–**: 100% å®Œæ•´åˆ†æï¼Œæ— é—æ¼
- ğŸ¯ **å…³é”®å‘ç°**: 10ä¸ªæ ¸å¿ƒæŠ€æœ¯ç»„ä»¶æ·±åº¦åˆ†æ
- ğŸ“ˆ **æŠ€æœ¯æ´å¯Ÿ**: 4ä¸ªæ ¸å¿ƒæ¶æ„è®¾è®¡æ¨¡å¼æ€»ç»“
- â° **åˆ†ææ—¶é—´**: 2025å¹´8æœˆ26æ—¥å®Œæˆ

#### â³ 1.2-1.7 åç»­ç®—æ³•å±‚ä»»åŠ¡
- â³ åˆ†æPython FIFOæ ¸å¿ƒå‡½æ•°å®ç°ç»†èŠ‚
- â³ å®Œå–„Rust FIFOçš„èµ„é‡‘æµå…¥å¤„ç†é€»è¾‘
- â³ å®Œå–„Rust FIFOçš„èµ„é‡‘æµå‡ºå¤„ç†é€»è¾‘  
- â³ å®Œå–„Rust FIFOçš„æŠ•èµ„äº§å“å¤„ç†é€»è¾‘
- â³ å®ç°FIFOçš„è¡Œä¸ºåˆ†æå™¨é›†æˆ
- â³ ç®—æ³•å±‚é›†æˆæµ‹è¯•å’ŒPythonç»“æœå¯¹æ¯”éªŒè¯

### ğŸ”„ é˜¶æ®µä¸‰ï¼šæœåŠ¡å±‚å®ç°é˜¶æ®µ (ç®—æ³•å±‚å®Œæˆå)
- â³ AuditServiceæ ¸å¿ƒæœåŠ¡å±‚
- â³ TrackerFactoryç®—æ³•å·¥å‚
- â³ FlowAnalyzeræµå‘åˆ†æå™¨é‡è®¾è®¡
- â³ æœåŠ¡å±‚é›†æˆæµ‹è¯•

### ğŸš€ é˜¶æ®µå››ï¼šåº”ç”¨å±‚å®ç°é˜¶æ®µ (æœåŠ¡å±‚å®Œæˆå)
- â³ CLIåº”ç”¨é‡æ„ (rust-backend/bin/cli.rs)
- â³ ä¸»åº“ç¼–è¯‘ä¿®å¤ (è§£å†³å½“å‰ç¼–è¯‘é—®é¢˜)
- â³ å‘½ä»¤è¡Œå‚æ•°å¤„ç†å’Œé…ç½®ç®¡ç†
- â³ åº”ç”¨å±‚é›†æˆæµ‹è¯•

### ğŸŒ é˜¶æ®µäº”ï¼šTaurié›†æˆé˜¶æ®µ (åº”ç”¨å±‚å®Œæˆå)
- â³ Tauri Ruståº“ç›´æ¥è°ƒç”¨
- â³ å‰ç«¯ç•Œé¢é€‚é…
- â³ æ€§èƒ½ä¼˜åŒ–å’Œç”¨æˆ·ä½“éªŒ
- â³ æœ€ç»ˆé›†æˆæµ‹è¯•å’Œå‘å¸ƒå‡†å¤‡

### ğŸ—‘ï¸ ç»´æŠ¤ä»»åŠ¡ï¼šä¸´æ—¶æ–‡ä»¶æ¸…ç† (å¾…ç¡®è®¤)
- â³ ç¡®è®¤æ¸…ç†tempnpm-cacheç›®å½• (./tauri-app/tempnpm-cache/ å’Œ ./tempnpm-cache/)
- â³ æ£€æŸ¥å…¶ä»–æ„å»ºäº§ç‰©å’Œä¸´æ—¶æ–‡ä»¶
- â³ æ›´æ–°.gitignoreæ’é™¤è§„åˆ™

### ğŸ“Š BalanceMethodç®—æ³•å¹¶è¡Œå¼€å‘ (FIFOå®Œæˆåå¯é€‰)
- â³ BalanceMethod Pythonåˆ†æ (balance_method_tracker.py)
- â³ Rust BalanceMethodå®ç°
- â³ åŒç®—æ³•å¯¹æ¯”éªŒè¯

---

## ğŸ” å½“å‰Python FIFOç®—æ³•åˆ†æè¿›å±•è¯¦æƒ…

> **åˆ†æç›®æ ‡**: å®Œæ•´æŒæ¡Python FIFOç®—æ³•çš„æ‰€æœ‰å®ç°ç»†èŠ‚ï¼Œä¸ºRustç§»æ¤æä¾›ç²¾ç¡®å‚è€ƒ  
> **åˆ†ææ–‡ä»¶**: `src/models/fifo_algorithm.py` (764è¡Œæ ¸å¿ƒé€»è¾‘)  
> **å½“å‰è¿›åº¦**: âœ… æŠ•èµ„äº§å“èµ„é‡‘æ± å®Œæ•´åˆ†æå®Œæˆï¼Œâœ… èµ„é‡‘æµå…¥åè°ƒæœºåˆ¶å®Œæˆï¼Œâœ… èµ„é‡‘æµå‡ºå¤„ç†é€»è¾‘å®Œæˆï¼Œâœ… æŠ•èµ„äº§å“å¤„ç†é€»è¾‘å®Œæˆï¼ŒğŸ”„ è¡Œä¸ºåˆ†æå™¨é›†æˆé€»è¾‘åˆ†æä¸­

### ğŸ“‹ å·²å‘ç°çš„å…³é”®æŠ€æœ¯æ´å¯Ÿ

#### 1. åˆå§‹åŒ–é€»è¾‘æ ¸å¿ƒå‘ç° (35-73è¡Œ)
```python
class FIFOèµ„é‡‘è¿½è¸ªå™¨:
    def __init__(self):
        # åŸºç¡€çŠ¶æ€å˜é‡
        self.ä¸ªäººä½™é¢ = 0.0
        self.å…¬å¸ä½™é¢ = 0.0
        self.å·²åˆå§‹åŒ– = False
        
        # FIFOæ ¸å¿ƒæ•°æ®ç»“æ„
        self.èµ„é‡‘æµå…¥é˜Ÿåˆ— = deque()  # å­˜å‚¨(é‡‘é¢, ç±»å‹, æ—¶é—´)å…ƒç»„
        self.æŠ•èµ„äº§å“èµ„é‡‘æ±  = {}      # å¤æ‚çš„æŠ•èµ„äº§å“ç®¡ç†å­—å…¸
        
        # 9ä¸ªç´¯è®¡ç»Ÿè®¡çŠ¶æ€
        self.ç´¯è®¡æŒªç”¨é‡‘é¢ = 0.0          # ä¸ªäººä½¿ç”¨å…¬å¸èµ„é‡‘
        self.ç´¯è®¡å«ä»˜é‡‘é¢ = 0.0          # å…¬å¸ä½¿ç”¨ä¸ªäººèµ„é‡‘
        # ... å…¶ä»–7ä¸ªç´¯è®¡å˜é‡
        
        # è¡Œä¸ºåˆ†æå™¨é›†æˆ
        self.è¡Œä¸ºåˆ†æå™¨ = BehaviorAnalyzer()
        
        # å¢é‡ç®¡ç†æœºåˆ¶
        self._ä¸Šæ¬¡è¡Œä¸ºåˆ†æå™¨æŒªç”¨é‡‘é¢ = 0.0  # é¿å…é‡å¤è®¡ç®—
        self._ä¸Šæ¬¡è¡Œä¸ºåˆ†æå™¨å«ä»˜é‡‘é¢ = 0.0
        
        # åœºå¤–èµ„é‡‘æ± è®°å½•
        self.åœºå¤–èµ„é‡‘æ± è®°å½• = []
```

#### 2. æŠ•èµ„äº§å“èµ„é‡‘æ± å¤æ‚ç»“æ„å‘ç° (378-390è¡Œ)
```python
self.æŠ•èµ„äº§å“èµ„é‡‘æ± [æŠ•èµ„äº§å“ç¼–å·] = {
    'ä¸ªäººé‡‘é¢': 0,              # ä¸ªäººæŠ•å…¥èµ„é‡‘
    'å…¬å¸é‡‘é¢': 0,              # å…¬å¸æŠ•å…¥èµ„é‡‘  
    'æ€»é‡‘é¢': 0,                # å½“å‰æ€»é‡‘é¢(å¯ä¸ºè´Ÿæ•°=ç›ˆåˆ©)
    'ç´¯è®¡ç”³è´­': 0,              # ç´¯è®¡ç”³è´­æ€»é¢
    'ç´¯è®¡èµå›': 0,              # ç´¯è®¡èµå›æ€»é¢
    'æœ€æ–°ä¸ªäººå æ¯”': 0,          # åŠ¨æ€è®¡ç®—çš„å æ¯”
    'æœ€æ–°å…¬å¸å æ¯”': 0,          # åŠ¨æ€è®¡ç®—çš„å æ¯”
    'å†å²ç›ˆåˆ©è®°å½•': [],         # æ¯æ¬¡é‡ç½®çš„ç›ˆåˆ©è®°å½•
    'ç´¯è®¡å·²å®ç°ç›ˆåˆ©': 0         # æ‰€æœ‰é‡ç½®ç›ˆåˆ©çš„ç´¯è®¡
}
```

#### 3. èµ„é‡‘æ± é‡ç½®é€»è¾‘å‘ç° (395-428è¡Œ)
å…³é”®å‘ç°ï¼š**å½“èµ„é‡‘æ± æ€»é‡‘é¢ä¸ºè´Ÿæ•°æ—¶ï¼Œè¡¨ç¤ºå·²æœ‰ç›ˆåˆ©**

**æ ¸å¿ƒé‡ç½®æœºåˆ¶ï¼š**
```python
# æ£€æŸ¥é‡ç½®æ¡ä»¶
if å½“å‰æ€»é‡‘é¢ < 0:
    # è®¡ç®—å·²å®ç°ç›ˆåˆ©
    realized_profit = abs(å½“å‰æ€»é‡‘é¢)  
    
    # å†å²ç›ˆåˆ©è®°å½•ç»“æ„
    reset_record = {
        'reset_time': äº¤æ˜“æ—¥æœŸ.strftime('%Y-%m-%d %H:%M:%S'),
        'profit_amount': realized_profit,
        'description': f'é‡ç½®å‰å®ç°ç›ˆåˆ© Â¥{realized_profit:,.2f}'
    }
    
    # æ›´æ–°ç´¯è®¡ç›ˆåˆ©
    self.æŠ•èµ„äº§å“èµ„é‡‘æ± [æŠ•èµ„äº§å“ç¼–å·]['å†å²ç›ˆåˆ©è®°å½•'].append(reset_record)
    self.æŠ•èµ„äº§å“èµ„é‡‘æ± [æŠ•èµ„äº§å“ç¼–å·]['ç´¯è®¡å·²å®ç°ç›ˆåˆ©'] += realized_profit
    
    # é‡ç½®èµ„é‡‘æ± çŠ¶æ€
    self.æŠ•èµ„äº§å“èµ„é‡‘æ± [æŠ•èµ„äº§å“ç¼–å·]['ä¸ªäººé‡‘é¢'] = ä¸ªäººé‡‘é¢  # æ–°ç”³è´­é‡‘é¢
    self.æŠ•èµ„äº§å“èµ„é‡‘æ± [æŠ•èµ„äº§å“ç¼–å·]['å…¬å¸é‡‘é¢'] = å…¬å¸é‡‘é¢
    self.æŠ•èµ„äº§å“èµ„é‡‘æ± [æŠ•èµ„äº§å“ç¼–å·]['æ€»é‡‘é¢'] = é‡‘é¢
    
    # åŠ¨æ€å æ¯”æ›´æ–°
    self.æŠ•èµ„äº§å“èµ„é‡‘æ± [æŠ•èµ„äº§å“ç¼–å·]['æœ€æ–°ä¸ªäººå æ¯”'] = ä¸ªäººå æ¯”
    self.æŠ•èµ„äº§å“èµ„é‡‘æ± [æŠ•èµ„äº§å“ç¼–å·]['æœ€æ–°å…¬å¸å æ¯”'] = å…¬å¸å æ¯”
```

**å æ¯”åŠ¨æ€æ›´æ–°æœºåˆ¶ (422-426è¡Œ)ï¼š**
```python
# æ­£å¸¸ç´¯åŠ æƒ…å†µä¸‹çš„å æ¯”é‡æ–°è®¡ç®—
æ–°æ€»é‡‘é¢ = self.æŠ•èµ„äº§å“èµ„é‡‘æ± [æŠ•èµ„äº§å“ç¼–å·]['æ€»é‡‘é¢']
if æ–°æ€»é‡‘é¢ > 0:
    self.æŠ•èµ„äº§å“èµ„é‡‘æ± [æŠ•èµ„äº§å“ç¼–å·]['æœ€æ–°ä¸ªäººå æ¯”'] = ä¸ªäººé‡‘é¢ / æ–°æ€»é‡‘é¢
    self.æŠ•èµ„äº§å“èµ„é‡‘æ± [æŠ•èµ„äº§å“ç¼–å·]['æœ€æ–°å…¬å¸å æ¯”'] = å…¬å¸é‡‘é¢ / æ–°æ€»é‡‘é¢
```

### ğŸ“ å½“å‰åˆ†æä»»åŠ¡å’Œè¿›å±•

**âœ… å·²å®Œæˆåˆ†æï¼š**
1. **æŠ•èµ„äº§å“èµ„é‡‘æ± å®Œæ•´ç»“æ„** (378-390è¡Œ)ï¼š10å­—æ®µæ•°æ®ç»“æ„åˆ†æå®Œæˆ
2. **èµ„é‡‘æ± é‡ç½®é€»è¾‘å’Œç›ˆåˆ©å®ç°æœºåˆ¶** (395-428è¡Œ)ï¼šè´Ÿæ•°=ç›ˆåˆ©æ£€æµ‹ï¼Œå†å²è®°å½•ç®¡ç†
3. **èµ„é‡‘æµå…¥åè°ƒæœºåˆ¶** (105-177è¡Œ)ï¼šä¸ªäºº/å…¬å¸/æ··åˆèµ„é‡‘çš„ä¸‰ç§å¤„ç†æ¨¡å¼
4. **èµ„é‡‘æµå‡ºåŒè·¯å¾„åè°ƒæœºåˆ¶** (178-371è¡Œ)ï¼šæ™®é€šæµå‡ºvsæŠ•èµ„æµå‡ºçš„å®Œæ•´å¤„ç†é€»è¾‘
5. **æŠ•èµ„äº§å“å¤„ç†é€»è¾‘** (459-614è¡Œ)ï¼šç”³è´­å’Œèµå›çš„å¤æ‚æ”¶ç›Šåˆ†é…å’Œæœ¬é‡‘å½’è¿˜æœºåˆ¶

**âœ… å·²å®Œæˆå®Œæ•´åˆ†æï¼š** Python FIFOç®—æ³•764è¡Œå®Œæ•´é€»è¾‘åˆ†æå®Œæˆ ğŸ‰

**6. è¡Œä¸ºåˆ†æå™¨é›†æˆé€»è¾‘** (BehaviorAnalyzeråä½œæœºåˆ¶) âœ…
- âœ… **åŒé‡ç´¯è®¡æœºåˆ¶**ï¼šFIFOè¿½è¸ªå™¨å’Œè¡Œä¸ºåˆ†æå™¨å„è‡ªç»´æŠ¤ç´¯è®¡å€¼ï¼Œé€šè¿‡å¢é‡ç®¡ç†é¿å…é‡å¤è®¡ç®—
- âœ… **å¢é‡åŒæ­¥ç®—æ³•**ï¼š`æœ¬æ¬¡æŒªç”¨å¢é‡ = self.è¡Œä¸ºåˆ†æå™¨.ç´¯è®¡æŒªç”¨é‡‘é¢ - self._ä¸Šæ¬¡è¡Œä¸ºåˆ†æå™¨æŒªç”¨é‡‘é¢`
- âœ… **æŠ•èµ„è¡Œä¸ºç‰¹æ®Šå¤„ç†**ï¼šæŠ•èµ„è§†ä¸ºä¸ªäººè¡Œä¸ºï¼Œä½¿ç”¨å…¬å¸èµ„é‡‘ç›´æ¥è®¡ä¸ºæŒªç”¨ï¼Œä¸ç»è¿‡è¡Œä¸ºåˆ†æå™¨
- âœ… **è¡Œä¸ºæ€§è´¨æ™ºèƒ½åˆ†æ**ï¼šæ ¹æ®èµ„é‡‘å±æ€§ï¼ˆä¸ªäºº/å…¬å¸ï¼‰å’Œä½¿ç”¨æƒ…å†µè‡ªåŠ¨åˆ¤æ–­æŒªç”¨/å«ä»˜/æ­£å¸¸

**7. èµ„é‡‘æµå…¥å¤„ç†å®Œæ•´é€»è¾‘** (105-177è¡Œ) âœ…  
- âœ… **ä¸‰ç§å¤„ç†æ¨¡å¼**ï¼šä¸ªäººèµ„é‡‘100%ä¸ªäººã€å…¬å¸èµ„é‡‘100%å…¬å¸ã€æ··åˆèµ„é‡‘æŒ‰ä½™é¢æ¯”ä¾‹æ™ºèƒ½åˆ†é…
- âœ… **FIFOé˜Ÿåˆ—ç»´æŠ¤**ï¼šæ¯ç¬”æµå…¥è¿½åŠ (é‡‘é¢,ç±»å‹,æ—¶é—´)å…ƒç»„åˆ°dequeé˜Ÿåˆ—ï¼Œä¿æŒæ—¶åºå®Œæ•´æ€§
- âœ… **è¾¹ç•Œæ¡ä»¶å¤„ç†**ï¼šèµ„é‡‘æ± ä¸ºç©ºæ—¶é»˜è®¤1:1åˆ†é…ï¼Œæ€»ä½™é¢ä¸º0æ—¶è§¦å‘é»˜è®¤åˆ†é…è§„åˆ™

**8. èµ„é‡‘æµå‡ºå¤„ç†åŒè·¯å¾„é€»è¾‘** (178-371è¡Œ) âœ…
- âœ… **è·¯å¾„åˆ†ç¦»æœºåˆ¶**ï¼šæ™®é€šæµå‡ºè°ƒç”¨`_å¤„ç†æ™®é€šèµ„é‡‘æµå‡º`ï¼ŒæŠ•èµ„ç”³è´­è°ƒç”¨`_å¤„ç†æŠ•èµ„èµ„é‡‘æµå‡º`
- âœ… **ä¸¥æ ¼FIFOåŸåˆ™**ï¼šæŒ‰é˜Ÿåˆ—å…ˆè¿›å…ˆå‡ºé¡ºåºæ‰£é™¤ï¼Œæ”¯æŒå®Œå…¨æ‰£é™¤å’Œéƒ¨åˆ†æ‰£é™¤ä¸¤ç§æ¨¡å¼
- âœ… **å®¹å·®å’Œä¿®å¤**ï¼š0.01å…ƒå®¹å¿åº¦å¤„ç†æµ®ç‚¹ç²¾åº¦ï¼Œé˜Ÿåˆ—ä¸ºç©ºæ—¶è‡ªåŠ¨é‡å»ºæœºåˆ¶

**9. æŠ•èµ„äº§å“å¤„ç†å¤æ‚é€»è¾‘** (459-614è¡Œ) âœ…
- âœ… **ç”³è´­å’Œèµå›æœºåˆ¶**ï¼šç”³è´­æ›´æ–°èµ„é‡‘æ± ï¼Œèµå›æŒ‰æœ€æ–°å æ¯”åˆ†é…ï¼Œæ”¯æŒè¶…é¢èµå›å¤„ç†
- âœ… **æ”¶ç›Šåˆ†é…ç®—æ³•**ï¼šæœ¬é‡‘å½’è¿˜ç”¨äºæŠµæ¶ˆæŒªç”¨/å«ä»˜ï¼Œæ”¶ç›Šéƒ¨åˆ†æŒ‰å æ¯”åˆ†é…ç»™ä¸ªäºº/å…¬å¸
- âœ… **èµ„é‡‘æ± é‡ç½®é€»è¾‘**ï¼šè´Ÿæ•°=ç›ˆåˆ©æ£€æµ‹ï¼Œè‡ªåŠ¨é‡ç½®å¹¶è®°å½•å†å²ç›ˆåˆ©ï¼Œç»´æŠ¤ç´¯è®¡å·²å®ç°ç›ˆåˆ©

**10. æ ¸å¿ƒå‡½æ•°å®ç°ç»†èŠ‚** (74-104è¡Œ, 615-764è¡Œ) âœ…
- âœ… **æ•°å€¼æ ¼å¼åŒ–å¤„ç†**ï¼š`æ ¼å¼åŒ–æ•°å€¼()`é¿å…ç§‘å­¦è®¡æ•°æ³•ï¼Œå¤„ç†æå°å€¼ç²¾åº¦é—®é¢˜
- âœ… **çŠ¶æ€æ‘˜è¦ç”Ÿæˆ**ï¼š`è·å–çŠ¶æ€æ‘˜è¦()`è¿”å›13ä¸ªçŠ¶æ€å˜é‡çš„å®Œæ•´å­—å…¸
- âœ… **Excelè¾“å‡ºåŠŸèƒ½**ï¼š`ç”Ÿæˆåœºå¤–èµ„é‡‘æ± è®°å½•Excel()`æ”¯æŒæŒ‰èµ„é‡‘æ± åˆ†ç»„å’Œæ—¶é—´æ’åº

**ğŸ¯ æ ¸å¿ƒæŠ€æœ¯æ´å¯Ÿæ€»ç»“ï¼š**
- **FIFOé˜Ÿåˆ—ç²¾å¯†å®ç°**ï¼šdequeæä¾›O(1)æ€§èƒ½ï¼Œæ”¯æŒåŒç«¯æ“ä½œå’Œéƒ¨åˆ†æ¶ˆè´¹
- **æŠ•èµ„äº§å“èµ„é‡‘æ± **ï¼š10å­—æ®µå¤æ‚ç»“æ„ï¼Œè´Ÿæ•°æ£€æµ‹ç›ˆåˆ©ï¼Œå æ¯”åŠ¨æ€æ›´æ–°
- **è¡Œä¸ºåˆ†æå™¨åä½œ**ï¼šåŒé‡ç´¯è®¡+å¢é‡ç®¡ç†ï¼ŒæŠ•èµ„æŒªç”¨ç›´æ¥è®¡ç®—ï¼Œæ™®é€šäº¤æ˜“é€šè¿‡åˆ†æå™¨
- **æ•°æ®ä¸€è‡´æ€§ä¿è¯**ï¼šé˜Ÿåˆ—é‡å»ºã€å®¹å·®å¤„ç†ã€ä½™é¢æ ¡éªŒç¡®ä¿æ•°æ®å®Œæ•´æ€§

**â³ ä¸‹ä¸€é˜¶æ®µä»»åŠ¡**:
- Rust FIFOç®—æ³•å®ç°ï¼ˆåŸºäºå®Œæ•´Pythonåˆ†æï¼‰
- Python vs Rustç»“æœå¯¹æ¯”éªŒè¯
- ç®—æ³•å±‚é›†æˆæµ‹è¯•å’Œæ€§èƒ½ä¼˜åŒ–

#### 4. ä¸‰å±‚èµ„é‡‘æ± åè°ƒæœºåˆ¶å‘ç° (105-371è¡Œ)
å…³é”®å‘ç°ï¼š**ä¸‰å±‚èµ„é‡‘æ± ç²¾ç¡®åè°ƒçš„åŒæ­¥æ›´æ–°æœºåˆ¶**

**èµ„é‡‘æ± å±‚æ¬¡ç»“æ„:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   ä¸‰å±‚èµ„é‡‘æ± åè°ƒæ¶æ„                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â†“ èµ„é‡‘æµå…¥                   â†‘ èµ„é‡‘æµå‡º/èµå›
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  åŸºç¡€èµ„é‡‘æ± å±‚    â”‚    â”‚  FIFOé˜Ÿåˆ—å±‚     â”‚    â”‚  æŠ•èµ„äº§å“æ± å±‚    â”‚
â”‚  (ä½™é¢ç®¡ç†)     â”‚â†â†’â”‚  (æ—¶åºç®¡ç†)     â”‚â†â†’â”‚  (äº§å“ç®¡ç†)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**æ ¸å¿ƒåè°ƒæœºåˆ¶:**

1. **èµ„é‡‘æµå…¥åè°ƒ (105-177è¡Œ):**
   - **ä¸ªäººèµ„é‡‘:** ç›´æ¥æ›´æ–°`self.ä¸ªäººä½™é¢ += é‡‘é¢` + FIFOé˜Ÿåˆ—å…¥é˜Ÿ`('ä¸ªäºº', é‡‘é¢, æ—¶é—´)`
   - **å…¬å¸èµ„é‡‘:** ç›´æ¥æ›´æ–°`self.å…¬å¸ä½™é¢ += é‡‘é¢` + FIFOé˜Ÿåˆ—å…¥é˜Ÿ`('å…¬å¸', é‡‘é¢, æ—¶é—´)`
   - **æ··åˆèµ„é‡‘:** æŒ‰å½“å‰ä½™é¢æ¯”ä¾‹åˆ†é… â†’ åŒæ—¶æ›´æ–°ä¸¤ä¸ªåŸºç¡€æ±  + ä¸¤æ¬¡FIFOå…¥é˜Ÿ

2. **èµ„é‡‘æµå‡ºåŒè·¯å¾„åè°ƒ (178-371è¡Œ):**
   ```python
   if Config.is_investment_product(èµ„é‡‘å±æ€§):
       # æŠ•èµ„è·¯å¾„: åŸºç¡€æ±  â†’ FIFOé˜Ÿåˆ— â†’ æŠ•èµ„äº§å“æ± 
       ä¸ªäººå æ¯”, å…¬å¸å æ¯”, è¡Œä¸ºæ€§è´¨ = self._å¤„ç†æŠ•èµ„èµ„é‡‘æµå‡º(...)
       self._æ›´æ–°æŠ•èµ„äº§å“èµ„é‡‘æ± (...)  # ä¸‰å±‚åŒæ­¥æ›´æ–°
   else:
       # æ™®é€šè·¯å¾„: åŸºç¡€æ±  â† FIFOé˜Ÿåˆ— (å•çº¯æ¶ˆè´¹)
       return self._å¤„ç†æ™®é€šèµ„é‡‘æµå‡º(...)
   ```

3. **æŠ•èµ„äº§å“èµå›åè°ƒ (459-614è¡Œ):**
   ```python
   # å æ¯”ç»Ÿä¸€ä½¿ç”¨ç­–ç•¥ï¼šå§‹ç»ˆä½¿ç”¨æœ€æ–°è®°å½•çš„å æ¯”
   ä¸ªäººè¿”è¿˜ = é‡‘é¢ * æœ€æ–°ä¸ªäººå æ¯”
   å…¬å¸è¿”è¿˜ = é‡‘é¢ * æœ€æ–°å…¬å¸å æ¯”
   
   # åŒé‡æ”¶ç›Šå¤„ç†æœºåˆ¶
   if æ€»é‡‘é¢ > 0:
       # æ­£æ•°èµ„é‡‘æ± ï¼šåŒºåˆ†æœ¬é‡‘å½’è¿˜å’Œæ”¶ç›Šéƒ¨åˆ†
       æ”¶ç›Š = é‡‘é¢ - å¯¹åº”ç”³è´­æˆæœ¬
       å½’è¿˜çš„ä¸ªäººæœ¬é‡‘ = ä¸ªäººé‡‘é¢ * èµå›æ¯”ä¾‹  # æœ¬é‡‘å½’è¿˜è·Ÿè¸ª
   else:
       # è´Ÿæ•°èµ„é‡‘æ± ï¼šå…¨éƒ¨ç®—ä½œæ”¶ç›Šåˆ†é…
       æ”¶ç›Š = é‡‘é¢
   ```

3. **FIFOé˜Ÿåˆ—çŠ¶æ€åŒæ­¥æœºåˆ¶ (225-264è¡Œ):**
   - **é˜Ÿåˆ—é‡å»º:** é˜Ÿåˆ—ç©ºä½†ä½™é¢éé›¶æ—¶è‡ªåŠ¨é‡å»º `self.èµ„é‡‘æµå…¥é˜Ÿåˆ—.append((ä½™é¢, ç±»å‹, æ—¶é—´))`
   - **åŸå­æ€§æ‰£é™¤:** whileå¾ªç¯åŒæ—¶æ“ä½œé˜Ÿåˆ—å’ŒåŸºç¡€æ± ä½™é¢
   - **çŠ¶æ€ä¸€è‡´æ€§:** æ‰£é™¤æ—¶åŒæ­¥æ›´æ–° `self.ä¸ªäººä½™é¢ -= é‡‘é¢` å’Œé˜Ÿåˆ—çŠ¶æ€

4. **æŠ•èµ„äº§å“æ± å¤æ‚åŒæ­¥ (373-390è¡Œ):**
   - **èµ„é‡‘æ¥æºè¿½è¸ª:** è®°å½•`ä¸ªäººé‡‘é¢ = é‡‘é¢ * ä¸ªäººå æ¯”`, `å…¬å¸é‡‘é¢ = é‡‘é¢ * å…¬å¸å æ¯”`
   - **å æ¯”åŠ¨æ€è®¡ç®—:** å®æ—¶æ›´æ–°`æœ€æ–°ä¸ªäººå æ¯” = ä¸ªäººé‡‘é¢/æ€»é‡‘é¢`
   - **ç›ˆåˆ©å®ç°æœºåˆ¶:** è´Ÿæ•°æ€»é‡‘é¢è§¦å‘é‡ç½®å¹¶è®°å½•åˆ°`å†å²ç›ˆåˆ©è®°å½•[]`

5. **æŒªç”¨æ£€æµ‹åŒæœºåˆ¶ (278-286è¡Œ + 358-361è¡Œ):**
   ```python
   # æ™®é€šäº¤æ˜“æŒªç”¨(é€šè¿‡è¡Œä¸ºåˆ†æå™¨)
   æœ¬æ¬¡æŒªç”¨å¢é‡ = self.è¡Œä¸ºåˆ†æå™¨.ç´¯è®¡æŒªç”¨é‡‘é¢ - self._ä¸Šæ¬¡è¡Œä¸ºåˆ†æå™¨æŒªç”¨é‡‘é¢
   self.ç´¯è®¡æŒªç”¨é‡‘é¢ += æœ¬æ¬¡æŒªç”¨å¢é‡
   
   # æŠ•èµ„æŒªç”¨(ç›´æ¥æ£€æµ‹)
   if å…¬å¸æ‰£é™¤ > 0:  # æŠ•èµ„ä½¿ç”¨å…¬å¸èµ„é‡‘
       self.ç´¯è®¡æŒªç”¨é‡‘é¢ += å…¬å¸æ‰£é™¤
   ```

#### 5. æŠ•èµ„äº§å“å¤„ç†é€»è¾‘å‘ç° (459-614è¡Œ)
å…³é”®å‘ç°ï¼š**æœ€å¤æ‚çš„æ”¶ç›Šåˆ†é…å’Œæœ¬é‡‘å½’è¿˜åŒé‡æœºåˆ¶**

**æ ¸å¿ƒå¤„ç†ç­–ç•¥:**

1. **æ— ç”³è´­è®°å½•å¤„ç† (479-485è¡Œ):**
   ```python
   # ç‰¹æ®Šæƒ…å†µï¼šæ²¡æœ‰ç”³è´­è®°å½•çš„èµå›æŒ‰ä¸ªäººåº”æ”¶å¤„ç†
   if æŠ•èµ„äº§å“ç¼–å· not in self.æŠ•èµ„äº§å“èµ„é‡‘æ± :
       self.ä¸ªäººä½™é¢ += é‡‘é¢
       self.èµ„é‡‘æµå…¥é˜Ÿåˆ—.append((é‡‘é¢, 'ä¸ªäºº', äº¤æ˜“æ—¥æœŸ))
       return 1.0, 0.0, f"ä¸ªäººåº”æ”¶{é‡‘é¢:,.2f}ï¼ˆæ— ç”³è´­è®°å½•ï¼‰"
   ```

2. **å æ¯”ç»Ÿä¸€ä½¿ç”¨åŸåˆ™ (500-502è¡Œ):**
   ```python
   # å…³é”®è®¾è®¡ï¼šå§‹ç»ˆä½¿ç”¨æœ€æ–°è®°å½•å æ¯”ï¼Œä¸ç®¡èµ„é‡‘æ± æ­£è´ŸçŠ¶æ€
   ä¸ªäººè¿”è¿˜ = é‡‘é¢ * æœ€æ–°ä¸ªäººå æ¯”
   å…¬å¸è¿”è¿˜ = é‡‘é¢ * æœ€æ–°å…¬å¸å æ¯”
   ```

3. **åŒé‡æ”¶ç›Šå¤„ç†æœºåˆ¶ (504-543è¡Œ):**
   - **æ­£æ•°èµ„é‡‘æ± :** åŒºåˆ†æœ¬é‡‘å½’è¿˜ + æ”¶ç›Šåˆ†é…ï¼Œæœ¬é‡‘å¯ç²¾ç¡®è¿½è¸ªå’ŒæŠµæ¶ˆæŒªç”¨
   - **è´Ÿæ•°èµ„é‡‘æ± :** å…¨éƒ¨è§†ä¸ºæ”¶ç›Šï¼Œç»§ç»­ä¿æŒè´Ÿæ•°çŠ¶æ€ç´¯è®¡ç›ˆåˆ©

4. **æœ¬é‡‘å½’è¿˜è·Ÿè¸ªç³»ç»Ÿ (526-532è¡Œ):**
   ```python
   # ç²¾ç¡®çš„æœ¬é‡‘å½’è¿˜è®°å½•ï¼Œä¸“é—¨ç”¨äºæŠµæ¶ˆå†å²æŒªç”¨å’Œå«ä»˜
   if å½’è¿˜çš„å…¬å¸æœ¬é‡‘ > 0:
       self.ç´¯è®¡ç”±èµ„é‡‘æ± å›å½’å…¬å¸ä½™é¢æœ¬é‡‘ += å½’è¿˜çš„å…¬å¸æœ¬é‡‘
   if å½’è¿˜çš„ä¸ªäººæœ¬é‡‘ > 0:
       self.ç´¯è®¡ç”±èµ„é‡‘æ± å›å½’ä¸ªäººä½™é¢æœ¬é‡‘ += å½’è¿˜çš„ä¸ªäººæœ¬é‡‘
   ```

5. **æ”¶ç›Šåˆ†é…ä¸ç®—éæ³•æ‰€å¾—åŸåˆ™ (546-558è¡Œ):**
   ```python
   # é‡è¦è´¢åŠ¡åŸåˆ™ï¼šæ”¶ç›ŠæŒ‰æ¯”ä¾‹åˆ†é…ï¼Œä¸è®¡å…¥éæ³•æ‰€å¾—
   self.æ€»è®¡ä¸ªäººåº”åˆ†é…åˆ©æ¶¦ += ä¸ªäººæ”¶ç›Š
   self.æ€»è®¡å…¬å¸åº”åˆ†é…åˆ©æ¶¦ += å…¬å¸æ”¶ç›Š
   ```

6. **åœºå¤–èµ„é‡‘æ± å®Œæ•´è®°å½•ç”Ÿæˆ (599-612è¡Œ):**
   ```python
   äº¤æ˜“è®°å½• = {
       'äº¤æ˜“æ—¶é—´': äº¤æ˜“æ—¥æœŸ.strftime('%Y-%m-%d %H:%M:%S'),
       'èµ„é‡‘æ± åç§°': æŠ•èµ„äº§å“ç¼–å·,
       'å…¥é‡‘': 0, 'å‡ºé‡‘': é‡‘é¢,
       'æ€»ä½™é¢': æ›´æ–°åæ€»ä½™é¢, 'ä¸ªäººä½™é¢': æ›´æ–°åä¸ªäººä½™é¢,
       'è¡Œä¸ºæ€§è´¨': f"å‡ºé‡‘ï¼ˆä¸ªäºº{ä¸ªäººè¿”è¿˜:,.0f}ï¼Œå…¬å¸{å…¬å¸è¿”è¿˜:,.0f}ï¼Œæ”¶ç›Š{æ”¶ç›Š:,.0f}ï¼‰"
   }
   ```

#### 6. å…³é”®æŠ€æœ¯è®¾è®¡å‘ç°

**çŠ¶æ€åŒæ­¥åŸå­æ€§ä¿è¯:**
- æ‰€æœ‰èµ„é‡‘æ± æ“ä½œéƒ½åœ¨å•ä¸€æ–¹æ³•å†…å®Œæˆï¼Œç¡®ä¿åŸå­æ€§
- ä½¿ç”¨`max(0, ä½™é¢ - æ‰£é™¤é‡‘é¢)`é˜²æ­¢è´Ÿæ•°ä½™é¢
- FIFOé˜Ÿåˆ—çš„`popleft()`å’Œ`appendleft()`æ“ä½œä¸ä½™é¢æ›´æ–°åŒæ­¥

**å¼‚å¸¸å®¹é”™æœºåˆ¶:**
- èµ„é‡‘ä¸è¶³æ£€æµ‹ï¼š`èµ„é‡‘ç¼ºå£ = é‡‘é¢ - total_available`
- æµ®ç‚¹æ•°å®¹å¿åº¦ï¼š`Config.BALANCE_TOLERANCE` (0.01å…ƒ)
- é˜Ÿåˆ—ä¿®å¤ï¼šè‡ªåŠ¨é‡å»ºä¸¢å¤±çš„FIFOé˜Ÿåˆ—çŠ¶æ€

**æ•°æ®ä¸€è‡´æ€§æ£€æŸ¥:**
- ä½™é¢ä¸é˜Ÿåˆ—é‡‘é¢æ ¡éªŒ (225-234è¡Œé˜Ÿåˆ—é‡å»ºé€»è¾‘)
- å æ¯”è®¡ç®—ç²¾åº¦ä¿è¯ (`ä¸ªäººå æ¯” = ä¸ªäººæ‰£é™¤ / åŸå§‹é‡‘é¢`)
- æ•°å€¼æ ¼å¼åŒ–ç»Ÿä¸€ (`self.æ ¼å¼åŒ–æ•°å€¼()`é¿å…ç§‘å­¦è®¡æ•°æ³•)

### ğŸ“ ä¸‹ä¸€æ­¥åˆ†æé‡ç‚¹

**å·²å®Œæˆ:** ä¸‰å±‚èµ„é‡‘æ± åè°ƒæœºåˆ¶åˆ†æ âœ…

**ä¸‹ä¸€æ­¥ä»»åŠ¡:** FIFOé˜Ÿåˆ—å®ç°ç»†èŠ‚åˆ†æ
- dequeé˜Ÿåˆ—çš„å…¥é˜Ÿ/å‡ºé˜Ÿç­–ç•¥
- æ—¶é—´æ’åºå’ŒFIFOåŸåˆ™ä¿è¯
- é˜Ÿåˆ—å…ƒç´ çš„å®Œæ•´ç”Ÿå‘½å‘¨æœŸç®¡ç†
- é˜Ÿåˆ—ä¸åŸºç¡€ä½™é¢æ± çš„ä¸€è‡´æ€§ç»´æŠ¤

#### 6. FIFOé˜Ÿåˆ—å®ç°ç»†èŠ‚å‘ç° (124-264è¡Œ)
å…³é”®å‘ç°ï¼š**ç²¾å¯†çš„dequeé˜Ÿåˆ—ç®¡ç†å’Œå…ˆè¿›å…ˆå‡ºåŸåˆ™å®ç°**

**é˜Ÿåˆ—å…ƒç´ ç»“æ„å’Œç”Ÿå‘½å‘¨æœŸ:**
```python
# é˜Ÿåˆ—å…ƒç´ ç»“æ„: (é‡‘é¢, ç±»å‹, æ—¶é—´)
self.èµ„é‡‘æµå…¥é˜Ÿåˆ— = deque()  # collections.dequeæ•°æ®ç»“æ„

# å…ƒç´ ç±»å‹å®šä¹‰:
# - é‡‘é¢: float, å®é™…æµå…¥çš„èµ„é‡‘æ•°é¢
# - ç±»å‹: str, 'ä¸ªäºº' æˆ– 'å…¬å¸' 
# - æ—¶é—´: Optional[pd.Timestamp], æµå…¥çš„äº¤æ˜“æ—¶é—´
```

**æ ¸å¿ƒé˜Ÿåˆ—æ“ä½œç­–ç•¥:**

1. **å…¥é˜Ÿç­–ç•¥ (èµ„é‡‘æµå…¥æ—¶):**
   ```python
   # å•ä¸€èµ„é‡‘ç±»å‹å…¥é˜Ÿ
   self.èµ„é‡‘æµå…¥é˜Ÿåˆ—.append((é‡‘é¢, 'ä¸ªäºº', äº¤æ˜“æ—¥æœŸ))  # ä¸ªäººèµ„é‡‘
   self.èµ„é‡‘æµå…¥é˜Ÿåˆ—.append((é‡‘é¢, 'å…¬å¸', äº¤æ˜“æ—¥æœŸ))  # å…¬å¸èµ„é‡‘
   
   # æ··åˆèµ„é‡‘åˆ†è§£å…¥é˜Ÿ (å…³é”®ç‰¹æ€§)
   self.èµ„é‡‘æµå…¥é˜Ÿåˆ—.append((ä¸ªäººé‡‘é¢, 'ä¸ªäºº', äº¤æ˜“æ—¥æœŸ))
   self.èµ„é‡‘æµå…¥é˜Ÿåˆ—.append((å…¬å¸é‡‘é¢, 'å…¬å¸', äº¤æ˜“æ—¥æœŸ))
   ```
   - **æ—¶åºä¿è¯**: append()æ“ä½œç»´æŠ¤æ—¶é—´é¡ºåºï¼Œå…ˆå…¥é˜Ÿçš„åœ¨é˜Ÿåˆ—å‰ç«¯
   - **åˆ†è§£åŸåˆ™**: æ··åˆèµ„é‡‘æŒ‰æ¯”ä¾‹åˆ†è§£ä¸ºä¸¤ä¸ªç‹¬ç«‹é˜Ÿåˆ—å…ƒç´ 
   - **åŒæ—¶é—´æ ‡è®°**: åˆ†è§£åçš„å…ƒç´ ä¿æŒç›¸åŒçš„äº¤æ˜“æ—¶é—´

2. **å‡ºé˜Ÿç­–ç•¥ (èµ„é‡‘æµå‡ºæ—¶) - ä¸¥æ ¼FIFOåŸåˆ™:**
   ```python
   while å‰©ä½™é‡‘é¢ > 0 and self.èµ„é‡‘æµå…¥é˜Ÿåˆ—:
       æµå…¥é‡‘é¢, æµå…¥ç±»å‹, æµå…¥æ—¶é—´ = self.èµ„é‡‘æµå…¥é˜Ÿåˆ—.popleft()  # ä¸¥æ ¼å…ˆè¿›å…ˆå‡º
       
       if æµå…¥é‡‘é¢ <= å‰©ä½™é‡‘é¢:
           # å®Œå…¨æ¶ˆè´¹: æ•´ä¸ªå…ƒç´ å‡ºé˜Ÿ
           å®Œå…¨æ¶ˆè´¹è¯¥å…ƒç´ ()
       else:
           # éƒ¨åˆ†æ¶ˆè´¹: å‰©ä½™éƒ¨åˆ†é‡æ–°å…¥é˜Ÿé¦–
           self.èµ„é‡‘æµå…¥é˜Ÿåˆ—.appendleft((æµå…¥é‡‘é¢ - å‰©ä½™é‡‘é¢, æµå…¥ç±»å‹, æµå…¥æ—¶é—´))
   ```
   - **popleft()**: ä»é˜Ÿåˆ—å·¦ç«¯(æœ€æ—©)å–å‡ºå…ƒç´ ï¼Œä¸¥æ ¼éµå¾ªFIFO
   - **éƒ¨åˆ†æ¶ˆè´¹æœºåˆ¶**: å½“æµå‡ºé‡‘é¢å°äºé˜Ÿé¦–å…ƒç´ æ—¶ï¼Œæ¶ˆè´¹éƒ¨åˆ†é‡‘é¢ï¼Œå‰©ä½™é‡æ–°å…¥é˜Ÿé¦–
   - **appendleft()**: å°†éƒ¨åˆ†æ¶ˆè´¹åçš„å‰©ä½™æ”¾å›é˜Ÿåˆ—æœ€å‰ç«¯ï¼Œä¿æŒæ—¶é—´é¡ºåº

3. **é˜Ÿåˆ—ä¿®å¤æœºåˆ¶ (çŠ¶æ€ä¸€è‡´æ€§ä¿è¯):**
   ```python
   # æ£€æµ‹ä¸ä¸€è‡´çŠ¶æ€
   if len(self.èµ„é‡‘æµå…¥é˜Ÿåˆ—) == 0 and total_available > 0:
       audit_logger.warning("FIFOé˜Ÿåˆ—ä¸ºç©ºä½†ä½™é¢ä¸ä¸ºç©ºï¼Œé‡æ–°æ„å»ºé˜Ÿåˆ—")
       
       # æŒ‰å½“å‰ä½™é¢é‡æ„é˜Ÿåˆ—
       if self.ä¸ªäººä½™é¢ > 0:
           self.èµ„é‡‘æµå…¥é˜Ÿåˆ—.append((self.ä¸ªäººä½™é¢, 'ä¸ªäºº', äº¤æ˜“æ—¥æœŸ))
       if self.å…¬å¸ä½™é¢ > 0:
           self.èµ„é‡‘æµå…¥é˜Ÿåˆ—.append((self.å…¬å¸ä½™é¢, 'å…¬å¸', äº¤æ˜“æ—¥æœŸ))
   ```
   - **å¼‚å¸¸æ£€æµ‹**: é˜Ÿåˆ—ç©ºä½†ä½™é¢éé›¶çš„ä¸ä¸€è‡´çŠ¶æ€
   - **è‡ªåŠ¨ä¿®å¤**: æŒ‰å½“å‰ä½™é¢é‡æ–°æ„å»ºé˜Ÿåˆ—å…ƒç´ 
   - **æ—¶é—´æ ‡è®°**: ä½¿ç”¨å½“å‰äº¤æ˜“æ—¶é—´ä½œä¸ºé‡æ„å…ƒç´ çš„æ—¶é—´

4. **é˜Ÿåˆ—ä¸ä½™é¢åŒæ­¥æ›´æ–°æœºåˆ¶:**
   ```python
   # åŸå­æ€§åŒæ­¥æ›´æ–°
   if æµå…¥ç±»å‹ == 'ä¸ªäºº':
       ä¸ªäººæ‰£é™¤ += æµå…¥é‡‘é¢
       self.ä¸ªäººä½™é¢ = max(0, self.ä¸ªäººä½™é¢ - æµå…¥é‡‘é¢)  # é˜²è´Ÿæ•°ä¿æŠ¤
   else:
       å…¬å¸æ‰£é™¤ += æµå…¥é‡‘é¢  
       self.å…¬å¸ä½™é¢ = max(0, self.å…¬å¸ä½™é¢ - æµå…¥é‡‘é¢)  # é˜²è´Ÿæ•°ä¿æŠ¤
   ```
   - **åŒæ­¥æ›´æ–°**: é˜Ÿåˆ—æ“ä½œå’Œä½™é¢æ›´æ–°åœ¨åŒä¸€å¾ªç¯ä¸­å®Œæˆ
   - **é˜²è´Ÿæ•°ä¿æŠ¤**: max(0, ä½™é¢-æ‰£é™¤é‡‘é¢)ç¡®ä¿ä½™é¢ä¸ä¸ºè´Ÿ
   - **ç»Ÿè®¡è¿½è¸ª**: åŒæ—¶ç»´æŠ¤ä¸ªäººæ‰£é™¤/å…¬å¸æ‰£é™¤ç»Ÿè®¡

#### 7. FIFOç®—æ³•æ ¸å¿ƒè®¾è®¡åŸç†

**æ—¶é—´é¡ºåºä¿è¯æœºåˆ¶:**
- dequeæ•°æ®ç»“æ„å¤©ç„¶ä¿è¯FIFOé¡ºåº
- append()åœ¨å³ç«¯æ·»åŠ ï¼Œpopleft()ä»å·¦ç«¯å–å‡º
- éƒ¨åˆ†æ¶ˆè´¹æ—¶appendleft()ç¡®ä¿å‰©ä½™éƒ¨åˆ†ä¿æŒæœ€æ—©é¡ºåº

**æ•°æ®ä¸€è‡´æ€§ç»´æŠ¤:**
- é˜Ÿåˆ—æ“ä½œä¸ä½™é¢æ›´æ–°çš„åŸå­æ€§åŒæ­¥
- é˜Ÿåˆ—é‡å»ºæœºåˆ¶å¤„ç†å¼‚å¸¸çŠ¶æ€
- max(0, x)é˜²æŠ¤æœºåˆ¶é¿å…è´Ÿæ•°ä½™é¢

**å†…å­˜æ•ˆç‡ä¼˜åŒ–:**
- dequeæä¾›O(1)çš„ä¸¤ç«¯æ“ä½œæ€§èƒ½
- éƒ¨åˆ†æ¶ˆè´¹æœºåˆ¶é¿å…ä¸å¿…è¦çš„å…ƒç´ åˆ†æ‹†
- é˜Ÿåˆ—å…ƒç´ å¤ç”¨æ—¶é—´æˆ³ï¼Œå‡å°‘å†…å­˜å ç”¨

### ğŸ“ ä¸‹ä¸€æ­¥åˆ†æé‡ç‚¹

**å·²å®Œæˆ:** FIFOé˜Ÿåˆ—å®ç°ç»†èŠ‚åˆ†æ âœ…

**ä¸‹ä¸€æ­¥ä»»åŠ¡:** ç´¯è®¡çŠ¶æ€è·Ÿè¸ªæœºåˆ¶åˆ†æ
- 13ä¸ªçŠ¶æ€å˜é‡çš„å¢é‡æ›´æ–°é€»è¾‘
- æŒªç”¨/å«ä»˜çš„ç´¯è®¡è®¡ç®—æœºåˆ¶
- æœ¬é‡‘å½’è¿˜çš„è·Ÿè¸ªç®—æ³•
- åˆ©æ¶¦åˆ†é…çš„è®¡ç®—æ–¹å¼
- æ•°å€¼æ ¼å¼åŒ–å¤„ç†ç­–ç•¥

#### 8. ç´¯è®¡çŠ¶æ€è·Ÿè¸ªæœºåˆ¶å‘ç° (277-649è¡Œ)
å…³é”®å‘ç°ï¼š**ç²¾å¯†çš„13ä¸ªçŠ¶æ€å˜é‡å¢é‡æ›´æ–°å’Œè®¡ç®—æœºåˆ¶**

**13ä¸ªæ ¸å¿ƒçŠ¶æ€å˜é‡å®Œæ•´ä½“ç³»:**
```python
# åŸºç¡€ä½™é¢çŠ¶æ€ (3ä¸ª)
self.ä¸ªäººä½™é¢ = 0.0              # å½“å‰ä¸ªäººèµ„é‡‘ä½™é¢
self.å…¬å¸ä½™é¢ = 0.0              # å½“å‰å…¬å¸èµ„é‡‘ä½™é¢  
self.å·²åˆå§‹åŒ– = False            # è¿½è¸ªå™¨åˆå§‹åŒ–çŠ¶æ€

# FIFOæ ¸å¿ƒæ•°æ®ç»“æ„ (2ä¸ª)
self.èµ„é‡‘æµå…¥é˜Ÿåˆ— = deque()      # å…ˆè¿›å…ˆå‡ºé˜Ÿåˆ—
self.æŠ•èµ„äº§å“èµ„é‡‘æ±  = {}         # æŠ•èµ„äº§å“å­—å…¸

# æŒªç”¨å«ä»˜ç´¯è®¡çŠ¶æ€ (2ä¸ª)
self.ç´¯è®¡æŒªç”¨é‡‘é¢ = 0.0          # ä¸ªäººä½¿ç”¨å…¬å¸èµ„é‡‘ç´¯è®¡
self.ç´¯è®¡å«ä»˜é‡‘é¢ = 0.0          # å…¬å¸ä½¿ç”¨ä¸ªäººèµ„é‡‘ç´¯è®¡

# æœ¬é‡‘å½’è¿˜ç´¯è®¡çŠ¶æ€ (2ä¸ª)  
self.ç´¯è®¡ç”±èµ„é‡‘æ± å›å½’å…¬å¸ä½™é¢æœ¬é‡‘ = 0.0  # æŠ•èµ„èµå›å½’è¿˜å…¬å¸æœ¬é‡‘ç´¯è®¡
self.ç´¯è®¡ç”±èµ„é‡‘æ± å›å½’ä¸ªäººä½™é¢æœ¬é‡‘ = 0.0  # æŠ•èµ„èµå›å½’è¿˜ä¸ªäººæœ¬é‡‘ç´¯è®¡

# æ”¶ç›Šåˆ†é…ç´¯è®¡çŠ¶æ€ (3ä¸ª)
self.ç´¯è®¡éæ³•æ‰€å¾— = 0.0          # æŠ•èµ„æ”¶ç›Šä¸­çš„éæ³•éƒ¨åˆ†ç´¯è®¡
self.æ€»è®¡ä¸ªäººåº”åˆ†é…åˆ©æ¶¦ = 0.0     # ä¸ªäººæŠ•èµ„æ”¶ç›Šç´¯è®¡
self.æ€»è®¡å…¬å¸åº”åˆ†é…åˆ©æ¶¦ = 0.0     # å…¬å¸æŠ•èµ„æ”¶ç›Šç´¯è®¡

# å¢é‡ç®¡ç†è¾…åŠ©å˜é‡ (2ä¸ª)
self._ä¸Šæ¬¡è¡Œä¸ºåˆ†æå™¨æŒªç”¨é‡‘é¢ = 0.0  # è¡Œä¸ºåˆ†æå™¨æŒªç”¨å¢é‡è®¡ç®—
self._ä¸Šæ¬¡è¡Œä¸ºåˆ†æå™¨å«ä»˜é‡‘é¢ = 0.0  # è¡Œä¸ºåˆ†æå™¨å«ä»˜å¢é‡è®¡ç®—
```

**æ ¸å¿ƒå¢é‡æ›´æ–°æœºåˆ¶:**

1. **åŒé‡æŒªç”¨æ£€æµ‹å’Œç´¯è®¡ (277-290è¡Œ + 357-361è¡Œ):**
   ```python
   # æ™®é€šäº¤æ˜“æŒªç”¨å¢é‡è®¡ç®— (é¿å…é‡å¤è®¡ç®—)
   æœ¬æ¬¡æŒªç”¨å¢é‡ = self.è¡Œä¸ºåˆ†æå™¨.ç´¯è®¡æŒªç”¨é‡‘é¢ - getattr(self, '_ä¸Šæ¬¡è¡Œä¸ºåˆ†æå™¨æŒªç”¨é‡‘é¢', 0)
   æœ¬æ¬¡å«ä»˜å¢é‡ = self.è¡Œä¸ºåˆ†æå™¨.ç´¯è®¡å«ä»˜é‡‘é¢ - getattr(self, '_ä¸Šæ¬¡è¡Œä¸ºåˆ†æå™¨å«ä»˜é‡‘é¢', 0)
   
   self.ç´¯è®¡æŒªç”¨é‡‘é¢ += æœ¬æ¬¡æŒªç”¨å¢é‡
   self.ç´¯è®¡å«ä»˜é‡‘é¢ += æœ¬æ¬¡å«ä»˜å¢é‡
   
   # æŠ•èµ„äº¤æ˜“æŒªç”¨ç›´æ¥ç´¯è®¡ (æŠ•èµ„ä½¿ç”¨å…¬å¸èµ„é‡‘)
   if å…¬å¸æ‰£é™¤ > 0:
       self.ç´¯è®¡æŒªç”¨é‡‘é¢ += å…¬å¸æ‰£é™¤
   ```
   - **é˜²é‡å¤æœºåˆ¶**: é€šè¿‡_ä¸Šæ¬¡å˜é‡è®°å½•åŸºå‡†ï¼Œåªç´¯è®¡å¢é‡éƒ¨åˆ†
   - **åŒè·¯å¾„ç´¯è®¡**: æ™®é€šäº¤æ˜“é€šè¿‡è¡Œä¸ºåˆ†æå™¨ï¼ŒæŠ•èµ„äº¤æ˜“ç›´æ¥æ£€æµ‹

2. **æœ¬é‡‘å½’è¿˜è·Ÿè¸ªæœºåˆ¶ (527-532è¡Œ):**
   ```python
   # æŠ•èµ„èµå›æ—¶å½’è¿˜æœ¬é‡‘çš„ç²¾ç¡®è·Ÿè¸ª
   if å½’è¿˜çš„å…¬å¸æœ¬é‡‘ > 0:
       self.ç´¯è®¡ç”±èµ„é‡‘æ± å›å½’å…¬å¸ä½™é¢æœ¬é‡‘ += å½’è¿˜çš„å…¬å¸æœ¬é‡‘
   if å½’è¿˜çš„ä¸ªäººæœ¬é‡‘ > 0:
       self.ç´¯è®¡ç”±èµ„é‡‘æ± å›å½’ä¸ªäººä½™é¢æœ¬é‡‘ += å½’è¿˜çš„ä¸ªäººæœ¬é‡‘
   ```
   - **æœ¬é‡‘è®¡ç®—**: åŸºäºèµå›æ¯”ä¾‹ `èµå›æ¯”ä¾‹ = é‡‘é¢ / æ€»é‡‘é¢`
   - **å½’è¿˜é€»è¾‘**: `å½’è¿˜çš„ä¸ªäººæœ¬é‡‘ = ä¸ªäººé‡‘é¢ * èµå›æ¯”ä¾‹`
   - **æŠµæ¶ˆåŠŸèƒ½**: æœ¬é‡‘å½’è¿˜å¯ä»¥æŠµæ¶ˆä¹‹å‰çš„æŒªç”¨/å«ä»˜

3. **æ”¶ç›Šåˆ†é…ç´¯è®¡æœºåˆ¶ (547-554è¡Œ):**
   ```python
   if æ”¶ç›Š > 0:
       ä¸ªäººæ”¶ç›Š = æ”¶ç›Š * æœ€æ–°ä¸ªäººå æ¯”
       å…¬å¸æ”¶ç›Š = æ”¶ç›Š * æœ€æ–°å…¬å¸å æ¯”
       
       self.æ€»è®¡ä¸ªäººåº”åˆ†é…åˆ©æ¶¦ += ä¸ªäººæ”¶ç›Š
       self.æ€»è®¡å…¬å¸åº”åˆ†é…åˆ©æ¶¦ += å…¬å¸æ”¶ç›Š
   ```
   - **æ”¶ç›Šè®¡ç®—**: `æ”¶ç›Š = èµå›é‡‘é¢ - å¯¹åº”ç”³è´­æˆæœ¬`
   - **æŒ‰æ¯”ä¾‹åˆ†é…**: ä½¿ç”¨æœ€æ–°è®°å½•çš„ä¸ªäºº/å…¬å¸å æ¯”
   - **ä¸ç®—éæ³•æ‰€å¾—**: æ­£å¸¸æŠ•èµ„æ”¶ç›ŠæŒ‰æ¯”ä¾‹åˆ†é…ï¼Œä¸è®¡å…¥ç´¯è®¡éæ³•æ‰€å¾—

4. **æ•°å€¼æ ¼å¼åŒ–ç»Ÿä¸€å¤„ç† (74-84è¡Œ + å„ç´¯è®¡ç‚¹):**
   ```python
   def æ ¼å¼åŒ–æ•°å€¼(self, æ•°å€¼: float) -> float:
       return Config.format_number(æ•°å€¼)
   
   # æ¯æ¬¡æ›´æ–°åç«‹å³æ ¼å¼åŒ–
   self.ç´¯è®¡æŒªç”¨é‡‘é¢ = self.æ ¼å¼åŒ–æ•°å€¼(self.ç´¯è®¡æŒªç”¨é‡‘é¢)
   self.ç´¯è®¡å«ä»˜é‡‘é¢ = self.æ ¼å¼åŒ–æ•°å€¼(self.ç´¯è®¡å«ä»˜é‡‘é¢)
   # ... å…¶ä»–ç´¯è®¡å˜é‡åŒæ ·å¤„ç†
   ```
   - **é¿å…ç§‘å­¦è®¡æ•°æ³•**: å¤„ç†æå°æ•°å€¼çš„æ˜¾ç¤ºé—®é¢˜
   - **ç²¾åº¦ç»Ÿä¸€**: æ‰€æœ‰ç´¯è®¡å˜é‡ä½¿ç”¨ç›¸åŒçš„æ ¼å¼åŒ–è§„åˆ™
   - **å®æ—¶æ ¼å¼åŒ–**: æ¯æ¬¡ç´¯è®¡æ›´æ–°åç«‹å³æ ¼å¼åŒ–

5. **çŠ¶æ€æ‘˜è¦ç”Ÿæˆæœºåˆ¶ (628-649è¡Œ):**
   ```python
   def è·å–çŠ¶æ€æ‘˜è¦(self) -> Dict[str, Any]:
       return {
           'ä¸ªäººä½™é¢': self.æ ¼å¼åŒ–æ•°å€¼(self.ä¸ªäººä½™é¢),
           'å…¬å¸ä½™é¢': self.æ ¼å¼åŒ–æ•°å€¼(self.å…¬å¸ä½™é¢),
           'æ€»ä½™é¢': self.æ ¼å¼åŒ–æ•°å€¼(self.ä¸ªäººä½™é¢ + self.å…¬å¸ä½™é¢),
           'æŠ•èµ„äº§å“æ•°é‡': len(self.æŠ•èµ„äº§å“èµ„é‡‘æ± ),
           'èµ„é‡‘æµå…¥é˜Ÿåˆ—é•¿åº¦': len(self.èµ„é‡‘æµå…¥é˜Ÿåˆ—),
           'ç´¯è®¡æŒªç”¨é‡‘é¢': self.æ ¼å¼åŒ–æ•°å€¼(self.ç´¯è®¡æŒªç”¨é‡‘é¢),
           'ç´¯è®¡å«ä»˜é‡‘é¢': self.æ ¼å¼åŒ–æ•°å€¼(self.ç´¯è®¡å«ä»˜é‡‘é¢),
           'ç´¯è®¡ç”±èµ„é‡‘æ± å›å½’å…¬å¸ä½™é¢æœ¬é‡‘': self.æ ¼å¼åŒ–æ•°å€¼(self.ç´¯è®¡ç”±èµ„é‡‘æ± å›å½’å…¬å¸ä½™é¢æœ¬é‡‘),
           'ç´¯è®¡ç”±èµ„é‡‘æ± å›å½’ä¸ªäººä½™é¢æœ¬é‡‘': self.æ ¼å¼åŒ–æ•°å€¼(self.ç´¯è®¡ç”±èµ„é‡‘æ± å›å½’ä¸ªäººä½™é¢æœ¬é‡‘),
           'ç´¯è®¡éæ³•æ‰€å¾—': self.æ ¼å¼åŒ–æ•°å€¼(self.ç´¯è®¡éæ³•æ‰€å¾—),
           'æ€»è®¡ä¸ªäººåº”åˆ†é…åˆ©æ¶¦': self.æ ¼å¼åŒ–æ•°å€¼(self.æ€»è®¡ä¸ªäººåº”åˆ†é…åˆ©æ¶¦),
           'æ€»è®¡å…¬å¸åº”åˆ†é…åˆ©æ¶¦': self.æ ¼å¼åŒ–æ•°å€¼(self.æ€»è®¡å…¬å¸åº”åˆ†é…åˆ©æ¶¦),
           'å·²åˆå§‹åŒ–': self.å·²åˆå§‹åŒ–
       }
   ```

#### 9. å…³é”®ç®—æ³•ç‰¹æ€§æ€»ç»“

**å¢é‡è®¡ç®—ç²¾ç¡®æ€§:**
- ä½¿ç”¨å·®å€¼è®¡ç®—é¿å…ç´¯è®¡å€¼è¦†ç›–
- åˆ†ç¦»æ™®é€šäº¤æ˜“å’ŒæŠ•èµ„äº¤æ˜“çš„æŒªç”¨æ£€æµ‹
- æ¯æ¬¡çŠ¶æ€æ›´æ–°åç«‹å³æ•°å€¼æ ¼å¼åŒ–

**æœ¬é‡‘ä¸æ”¶ç›Šåˆ†ç¦»:**
- èµå›æ—¶ç²¾ç¡®è®¡ç®—æœ¬é‡‘å½’è¿˜éƒ¨åˆ†
- æ”¶ç›ŠæŒ‰æœ€æ–°å æ¯”å…¬å¹³åˆ†é…
- æœ¬é‡‘å½’è¿˜å¯æŠµæ¶ˆå†å²æŒªç”¨/å«ä»˜

**çŠ¶æ€å®Œæ•´æ€§ä¿è¯:**
- 13ä¸ªçŠ¶æ€å˜é‡è¦†ç›–æ‰€æœ‰èµ„é‡‘æµè½¬æƒ…å†µ
- å®æ—¶çŠ¶æ€æ‘˜è¦ä¾¿äºè°ƒè¯•å’ŒéªŒè¯
- æ•°å€¼æ ¼å¼åŒ–ç»Ÿä¸€å¤„ç†ç²¾åº¦é—®é¢˜

---

## ğŸ†• v3.2.0 æ·±å¤œæ¶æ„ä¼˜åŒ–å®Œæˆ (2025-08-26)

### ğŸ‰ æœ¬æ¬¡é‡å¤§æ›´æ–°æˆå°±

#### âœ… ç»“æ„ä¼˜åŒ–ä¸æ¸…ç†
1. **ç›®å½•é‡å‘½åä¼˜åŒ–**: `src/models/` â†’ `src/data_models/` (æ›´å‡†ç¡®åæ˜ åºåˆ—åŒ–/æ•°æ®ä¼ è¾“ç”¨é€”)
2. **è·¯å¾„å¼•ç”¨æ‰¹é‡æ›´æ–°**: è‡ªåŠ¨æ›´æ–°æ‰€æœ‰ç›¸å…³æ–‡ä»¶çš„importå£°æ˜ï¼Œæ¶ˆé™¤æ¨¡å—å¼•ç”¨é”™è¯¯
3. **åç§°å†²çªè§£å†³**: åˆ é™¤interfacesç›®å½•ï¼Œè§£å†³BehaviorAnalyzerç­‰é‡åé—®é¢˜
4. **å†—ä½™æ¸…ç†**: åˆ é™¤æ—§processorsç›®å½•ã€å†²çªbinæ–‡ä»¶ï¼Œæ¸…ç†unused imports

#### âœ… ç®—æ³•éªŒè¯æµ‹è¯•ä½“ç³»å»ºç«‹
1. **ç»Ÿä¸€æµ‹è¯•ç›®å½•**: åˆ›å»º`independent_tests/`ç»Ÿä¸€æµ‹è¯•æ–‡ä»¶å¤¹
2. **æµ‹è¯•æ¡†æ¶å®Œå–„**: 
   - `algorithm_validation_tests/` - ç®—æ³•éªŒè¯æ¡†æ¶
   - `preprocessing_validation_test/` - é¢„å¤„ç†éªŒè¯ (100%ä¸Pythonä¸€è‡´)
3. **ç®€åŒ–æµ‹è¯•æˆåŠŸ**: éªŒè¯äº†FIFOå’ŒBalanceMethodç®—æ³•çš„åŸºç¡€æ„é€ åŠŸèƒ½
4. **æµ‹è¯•ç‹¬ç«‹æ€§**: ä¿æŒæµ‹è¯•ä¸“ç”¨æ•°æ®ç»“æ„çš„ç‹¬ç«‹æ€§

#### âœ… ç¼–è¯‘ç³»ç»Ÿç¨³å®šåŒ–  
- **ç¼–è¯‘é”™è¯¯**: ä»é”™è¯¯çŠ¶æ€æ¢å¤åˆ°é›¶ç¼–è¯‘é”™è¯¯
- **Warningæ¸…ç†**: ä»17ä¸ªwarningå‡å°‘åˆ°6ä¸ªï¼Œä¸»è¦ä¸ºunused variables
- **ä¾èµ–è§£è€¦**: æˆåŠŸæ¶ˆé™¤æ¨¡å—é—´å¾ªç¯ä¾èµ–å’Œå‘½åå†²çª

### ğŸ—ï¸ å½“å‰æ¶æ„çŠ¶æ€ (v3.2.0)

#### Ruståç«¯ç›®å½•ç»“æ„
```
rust-backend/src/
â”œâ”€â”€ algorithms/              # âœ… ç®—æ³•å±‚ (90%ä»£ç å¤ç”¨)
â”‚   â”œâ”€â”€ shared/             # âœ… 5å¤§å…±äº«ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ tracker_base.rs      # TrackerBase (13çŠ¶æ€å˜é‡)  
â”‚   â”‚   â”œâ”€â”€ behavior_analyzer.rs # è¡Œä¸ºåˆ†æå™¨ (345è¡Œ)
â”‚   â”‚   â”œâ”€â”€ investment_pool.rs   # æŠ•èµ„ç®¡ç†å™¨ (372è¡Œ)
â”‚   â”‚   â”œâ”€â”€ fund_flow_common.rs  # èµ„é‡‘æµå¤„ç† (443è¡Œ)
â”‚   â”‚   â””â”€â”€ summary.rs          # æ‘˜è¦ç”Ÿæˆå™¨ (297è¡Œ)
â”‚   â”œâ”€â”€ fifo_tracker.rs     # âœ… FIFOç®—æ³•å®ç°
â”‚   â””â”€â”€ balance_method_tracker.rs # âœ… å·®é¢è®¡ç®—æ³•å®ç°
â”œâ”€â”€ data_models/            # âœ… æ•°æ®ä¼ è¾“å¯¹è±¡ (é‡å‘½åå)
â”‚   â”œâ”€â”€ transaction.rs      # æ ¸å¿ƒäº¤æ˜“æ•°æ®ç»“æ„
â”‚   â”œâ”€â”€ audit_summary.rs    # å®¡è®¡æ‘˜è¦ç»“æ„
â”‚   â”œâ”€â”€ config.rs          # é…ç½®ç®¡ç†
â”‚   â””â”€â”€ fund_pool.rs       # èµ„é‡‘æ± è®°å½•
â”œâ”€â”€ utils/                  # âœ… å·¥å…·å±‚
â”œâ”€â”€ errors/                 # âœ… é”™è¯¯å¤„ç†
â””â”€â”€ lib.rs                 # âœ… åº“å¯¼å‡º (å·²æ›´æ–°)
```

#### æµ‹è¯•ä½“ç³»ç»“æ„
```
independent_tests/
â”œâ”€â”€ algorithm_validation_tests/     # âœ… ç®—æ³•éªŒè¯æ¡†æ¶
â”‚   â”œâ”€â”€ src/simplified_fifo_test.rs # ç®€åŒ–æµ‹è¯• (è¿è¡ŒæˆåŠŸ)
â”‚   â”œâ”€â”€ src/common.rs              # éªŒè¯é€»è¾‘ (å®Œæ•´æ¡†æ¶)  
â”‚   â”œâ”€â”€ src/fifo_test.rs           # å®Œæ•´FIFOæµ‹è¯• (å¾…å¯ç”¨)
â”‚   â””â”€â”€ src/balance_method_test.rs # å®Œæ•´å·®é¢æµ‹è¯• (å¾…å¯ç”¨)
â”œâ”€â”€ preprocessing_validation_test/  # âœ… é¢„å¤„ç†éªŒè¯
â”‚   â””â”€â”€ (ä¿æŒå®Œæ•´ç‹¬ç«‹æµ‹è¯•ç¯å¢ƒ)
â””â”€â”€ README.md                      # âœ… ç»Ÿä¸€æµ‹è¯•è¯´æ˜
```

### ğŸš€ ä¸‹ä¸€æ­¥å‘å±•è·¯çº¿

#### çŸ­æœŸä¼˜åŒ– (ç®—æ³•å±‚å®Œå–„)
1. **ç®—æ³•æµ‹è¯•å®Œå–„**: åŸºäºç°æœ‰æ¡†æ¶å®ç°å®Œæ•´çš„Pythonç»“æœå¯¹æ¯”
2. **å·¥å…·å±‚é›†æˆ**: é‡æ–°å¯ç”¨ExcelProcessorï¼Œæ”¯æŒç«¯åˆ°ç«¯æµ‹è¯•
3. **æ€§èƒ½åŸºå‡†æµ‹è¯•**: Rust vs Pythonç®—æ³•æ€§èƒ½å¯¹æ¯”

#### ä¸­æœŸç›®æ ‡ (æœåŠ¡å±‚å®ç°)  
1. **æœåŠ¡å±‚è®¾è®¡**: ä¸ºGUIäº¤äº’æä¾›é«˜çº§APIæ¥å£
2. **CLIåº”ç”¨å¼€å‘**: åŸºäºç¨³å®šç®—æ³•å±‚çš„å‘½ä»¤è¡Œå·¥å…·
3. **é”™è¯¯å¤„ç†å®Œå–„**: ç”¨æˆ·å‹å¥½çš„é”™è¯¯ä¿¡æ¯å’Œæ¢å¤æœºåˆ¶

#### é•¿æœŸç›®æ ‡ (ç³»ç»Ÿé›†æˆ)
1. **Taurié›†æˆ**: Ruståç«¯ç›´æ¥é›†æˆåˆ°GUIåº”ç”¨
2. **ç”Ÿäº§éƒ¨ç½²**: æ›¿æ¢Pythonåç«¯ï¼Œå®ç°å®Œæ•´RuståŒ–
3. **æ€§èƒ½ä¼˜åŒ–**: å¤§æ•°æ®é‡å¤„ç†å’Œå†…å­˜ä¼˜åŒ–

### ğŸ’¡ æ¶æ„ä¼˜åŒ–ä»·å€¼

1. **å¼€å‘æ•ˆç‡æå‡**: æ¸…æ™°çš„ç›®å½•ç»“æ„å’Œé›¶ç¼–è¯‘é”™è¯¯
2. **ä»£ç ç»´æŠ¤æ€§**: æ¶ˆé™¤å†—ä½™å’Œå‘½åå†²çªï¼Œæé«˜å¯è¯»æ€§
3. **æµ‹è¯•å®Œå¤‡æ€§**: ç‹¬ç«‹æµ‹è¯•ä½“ç³»ç¡®ä¿è´¨é‡ä¿è¯
4. **æ‰©å±•æ€§ä¿è¯**: ä¸ºåç»­åŠŸèƒ½å¼€å‘æä¾›ç¨³å®šåŸºç¡€

---

### ğŸ“ å†å²å‘å±•é‡ç‚¹

**v3.1.0 å·²å®Œæˆ:** ç®—æ³•å±‚å…±äº«æ¶æ„å®ç° âœ…
**v3.2.0 å·²å®Œæˆ:** ç»“æ„ä¼˜åŒ–ä¸æµ‹è¯•ä½“ç³»å»ºç«‹ âœ…
**v3.2.1 å·²å®Œæˆ:** æŠ•èµ„æ± é€»è¾‘åˆ†æä¸éªŒè¯ âœ…
**v3.2.2 å·²å®Œæˆ:** ç®—æ³•éªŒè¯å®Œæˆï¼Œ100%æ­£ç¡®æ€§éªŒè¯ âœ…

## ğŸ†• v3.2.2 ç®—æ³•éªŒè¯å®Œæˆé‡å¤§é‡Œç¨‹ç¢‘ (2025-08-27)

### ğŸ‰ å…³é”®æˆå°±ï¼šRustç®—æ³•100%éªŒè¯æˆåŠŸ

é€šè¿‡è¿è¡Œå®Œæ•´çš„ç«¯åˆ°ç«¯æµ‹è¯•ï¼Œ**Ruståç«¯ç®—æ³•å®ç°è¾¾åˆ°ç”Ÿäº§å°±ç»ªçŠ¶æ€**ï¼š

#### âœ… å®Œæ•´éªŒè¯ç»“æœ
- **æµ‹è¯•æ•°æ®è§„æ¨¡**: 9,799æ¡çœŸå®äº¤æ˜“è®°å½•
- **FIFOç®—æ³•éªŒè¯**: âœ… 100%æ­£ç¡®ï¼Œæœ€ç»ˆçŠ¶æ€å®Œå…¨åŒ¹é…
  - ä¸ªäººä½™é¢: 1,016,747.95
  - å…¬å¸ä½™é¢: 2,139,068.81  
  - æ€»ä½™é¢: 3,155,816.76
- **Balance Methodç®—æ³•éªŒè¯**: âœ… 100%æ­£ç¡®ï¼Œæœ€ç»ˆçŠ¶æ€å®Œå…¨åŒ¹é…
  - ä¸ªäººä½™é¢: 1,708,530.55
  - å…¬å¸ä½™é¢: 1,447,286.21
  - æ€»ä½™é¢: 3,155,816.76
- **Excelè¾“å‡ºéªŒè¯**: âœ… æ ¼å¼åŒ–è¾“å‡ºå®Œå…¨æ­£ç¡®
- **ç«¯åˆ°ç«¯æµæ°´çº¿**: âœ… Excelè¾“å…¥â†’æ•°æ®éªŒè¯â†’ç®—æ³•å¤„ç†â†’Excelè¾“å‡ºå…¨ç¨‹éªŒè¯æˆåŠŸ

#### ğŸš€ æŠ€æœ¯é‡Œç¨‹ç¢‘
1. **ExcelProcessorå®Œå…¨å¯ç”¨**: ç»Ÿä¸€Excelè¯»å†™åŠŸèƒ½éªŒè¯æˆåŠŸ
2. **æ•°æ®å®Œæ•´æ€§éªŒè¯**: è´ªå¿ƒç®—æ³•è‡ªåŠ¨ä¿®å¤åŒæ—¶é—´äº¤æ˜“æ’åº
3. **æŠ•èµ„æ± é€»è¾‘ç»Ÿä¸€**: é‡‡ç”¨æ­£ç¡®çš„ç´¯è®¡å æ¯”è®¡ç®—
4. **å…±äº«æ¶æ„éªŒè¯**: 90%ä»£ç å¤ç”¨çš„è®¾è®¡å®Œå…¨æˆåŠŸ
5. **ç¼–è¯‘ç³»ç»Ÿç¨³å®š**: é›¶é”™è¯¯ç¼–è¯‘ï¼Œä»…12ä¸ªunusedå˜é‡è­¦å‘Š

#### ğŸ“Š æ€§èƒ½æŒ‡æ ‡
- **å¤„ç†é€Ÿåº¦**: 9,799æ¡è®°å½•å¤„ç†æ—¶é—´ < 1ç§’
- **å†…å­˜ä½¿ç”¨**: é«˜æ•ˆæµå¼å¤„ç†ï¼Œæ— å†…å­˜æ³„æ¼
- **æ•°æ®ç²¾åº¦**: Decimalç²¾ç¡®è®¡ç®—ï¼Œæ— æµ®ç‚¹è¯¯å·®
- **é”™è¯¯å¤„ç†**: å®Œæ•´çš„é”™è¯¯æ¢å¤å’Œæ—¥å¿—è®°å½•

**ç»“è®º**: Ruståç«¯æ ¸å¿ƒç®—æ³•å±‚å·²è¾¾åˆ°ç”Ÿäº§å°±ç»ªçŠ¶æ€ï¼Œå¯ä»¥å¼€å§‹ä¸‹ä¸€é˜¶æ®µå¼€å‘ã€‚

---

## ğŸ†• v3.2.1 æŠ•èµ„æ± é€»è¾‘åˆ†æé‡å¤§å‘ç° (2025-08-26 æ·±å¤œ)

### ğŸ” å…³é”®å‘ç°ï¼šPythonç®—æ³•é—´çš„é€»è¾‘å·®å¼‚

é€šè¿‡æ·±å…¥å¯¹æ¯”åˆ†æï¼Œå‘ç°äº†Pythonç‰ˆæœ¬ä¸­FIFOç®—æ³•å’Œå·®é¢è®¡ç®—æ³•åœ¨æŠ•èµ„æ± å æ¯”è®¡ç®—ä¸Šçš„**æ ¹æœ¬æ€§å·®å¼‚**ï¼š

#### Python FIFOç®—æ³•ï¼ˆâœ… æ­£ç¡®çš„ç´¯è®¡å æ¯”é€»è¾‘ï¼‰
```python
# ç”³è´­æ—¶ï¼šç´¯åŠ åé‡æ–°è®¡ç®—æ€»å æ¯”
self.æŠ•èµ„äº§å“èµ„é‡‘æ± [ç¼–å·]['ä¸ªäººé‡‘é¢'] += ä¸ªäººé‡‘é¢
self.æŠ•èµ„äº§å“èµ„é‡‘æ± [ç¼–å·]['å…¬å¸é‡‘é¢'] += å…¬å¸é‡‘é¢
æ–°æ€»é‡‘é¢ = self.æŠ•èµ„äº§å“èµ„é‡‘æ± [ç¼–å·]['æ€»é‡‘é¢']
# åŸºäºç´¯è®¡æŠ•å…¥é‡æ–°è®¡ç®—å æ¯”
self.æŠ•èµ„äº§å“èµ„é‡‘æ± [ç¼–å·]['æœ€æ–°ä¸ªäººå æ¯”'] = ç´¯è®¡ä¸ªäººé‡‘é¢ / æ–°æ€»é‡‘é¢

# èµå›æ—¶ï¼šä½¿ç”¨ç´¯è®¡å æ¯”åˆ†é…
ä¸ªäººè¿”è¿˜ = é‡‘é¢ * æœ€æ–°ä¸ªäººå æ¯”ï¼ˆåŸºäºç´¯è®¡æŠ•å…¥è®¡ç®—ï¼‰
```

#### Pythonå·®é¢è®¡ç®—æ³•ï¼ˆâŒ é”™è¯¯çš„å•æ¬¡å æ¯”é€»è¾‘ï¼‰
```python
# ç”³è´­æ—¶ï¼šåªä¿å­˜æœ¬æ¬¡ç”³è´­çš„å æ¯”
äº§å“ä¿¡æ¯['ä¸ªäººå æ¯”'] = ä¸ªäººå æ¯”  # å•æ¬¡ç”³è´­æ‰£é™¤å æ¯”ï¼Œä¸ç´¯è®¡

# èµå›æ—¶ï¼šä½¿ç”¨æœ€åä¸€æ¬¡ç”³è´­çš„å æ¯”
ä¸ªäººå æ¯” = äº§å“ä¿¡æ¯['ä¸ªäººå æ¯”']  # é”™è¯¯ï¼åº”è¯¥ç”¨ç´¯è®¡å æ¯”
```

#### Rustå®ç°ï¼ˆâœ… é‡‡ç”¨æ­£ç¡®çš„ç´¯è®¡å æ¯”é€»è¾‘ï¼‰
```rust
// ä¸Python FIFOç®—æ³•ä¸€è‡´ï¼Œç´¯åŠ åé‡æ–°è®¡ç®—å æ¯”
pool.latest_personal_ratio = pool.personal_amount / new_total;
pool.latest_company_ratio = pool.company_amount / new_total;
```

### ğŸ“Š å®é™…æ¡ˆä¾‹éªŒè¯

**æµ‹è¯•æ¡ˆä¾‹**ï¼š"å…³è”é“¶è¡Œå¡-WWJ" æŠ•èµ„äº§å“èµå›
- **Rustç»“æœ**: ä¸ªäºº108,544.00ï¼Œå…¬å¸491,456.00 (18.09%:81.91%)
- **Python FIFO**: ç›¸åŒç»“æœ âœ…
- **Pythonå·®é¢è®¡ç®—æ³•**: ä¸åŒç»“æœ âŒï¼ˆä½¿ç”¨äº†é”™è¯¯çš„å•æ¬¡ç”³è´­å æ¯”ï¼‰

### ğŸ¯ ç»“è®ºä¸å†³ç­–

1. **Rustå®ç°å®Œå…¨æ­£ç¡®**ï¼šé‡‡ç”¨äº†æ­£ç¡®çš„æŠ•èµ„æ± ç´¯è®¡å æ¯”é€»è¾‘
2. **Python FIFOç®—æ³•æ­£ç¡®**ï¼šæŠ•èµ„æ± é€»è¾‘ç¬¦åˆä¸šåŠ¡è§„åˆ™
3. **Pythonå·®é¢è®¡ç®—æ³•æœ‰è¯¯**ï¼šéœ€è¦ä¿®å¤æŠ•èµ„æ± å æ¯”è®¡ç®—é€»è¾‘

### ğŸ”§ æŠ•èµ„æ± æ­£ç¡®é€»è¾‘åŸç†

**æ ¸å¿ƒåŸåˆ™**ï¼šæŠ•èµ„æ± åº”è¯¥æŒ‰ç…§**ç´¯è®¡æŠ•å…¥èµ„é‡‘å æ¯”**è¿›è¡Œæ”¶ç›Šåˆ†é…
- å¦‚æœä¸ªäººç´¯è®¡æŠ•å…¥30ä¸‡ï¼Œå…¬å¸ç´¯è®¡æŠ•å…¥60ä¸‡ï¼Œæ€»è®¡90ä¸‡
- ä»»ä½•èµå›éƒ½åº”è¯¥æŒ‰33.33%:66.67%åˆ†é…
- è¿™æ ·æ‰èƒ½ä¿è¯å„æ–¹æŒ‰å®é™…æŠ•å…¥æ¯”ä¾‹åˆ†äº«æ”¶ç›Š

**é”™è¯¯é€»è¾‘åæœ**ï¼š
- å•æ¬¡ç”³è´­å æ¯”ä¸èƒ½ä»£è¡¨ç´¯è®¡èµ„é‡‘è´¡çŒ®
- ä¼šå¯¼è‡´æ”¶ç›Šåˆ†é…ä¸å…¬å¹³
- è¿åæŠ•èµ„æ± åŸºæœ¬ä¸šåŠ¡è§„åˆ™

### ğŸ“‹ åç»­å·¥ä½œè®¡åˆ’

**ä¸‹ä¸€é˜¶æ®µé‡ç‚¹:** 
1. **ä¿®å¤Pythonå·®é¢è®¡ç®—æ³•**ï¼šç»Ÿä¸€æŠ•èµ„æ± å æ¯”è®¡ç®—é€»è¾‘
2. **é‡æ–°ç”ŸæˆåŸºå‡†æ•°æ®**ï¼šåŸºäºä¿®å¤åçš„æ­£ç¡®é€»è¾‘
3. **å®ŒæˆRustéªŒè¯**ï¼šç¡®è®¤æ‰€æœ‰ç®—æ³•ç»“æœä¸€è‡´æ€§
4. **æ–‡æ¡£æ›´æ–°**ï¼šè®°å½•æŠ•èµ„æ± é€»è¾‘æ ‡å‡†åŒ–