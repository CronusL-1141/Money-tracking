<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SVG to ICO Converter</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        .container { max-width: 600px; margin: 0 auto; }
        canvas { border: 1px solid #ccc; margin: 10px; }
        button { padding: 10px 20px; margin: 5px; background: #4CAF50; color: white; border: none; cursor: pointer; }
        button:hover { background: #45a049; }
    </style>
</head>
<body>
    <div class="container">
        <h1>FLUX Logo ICO 转换器</h1>
        <div id="preview"></div>
        <button onclick="convertToICO()">生成 ICO 文件</button>
        <div id="download-links"></div>
    </div>

    <script>
        const svgContent = `<svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <linearGradient id="fluidGrad1" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#667eea;stop-opacity:1" />
      <stop offset="50%" style="stop-color:#764ba2;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#f093fb;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="fluidGrad2" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#4facfe;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#00f2fe;stop-opacity:1" />
    </linearGradient>
    <filter id="glow">
      <feGaussianBlur stdDeviation="3" result="coloredBlur"/>
      <feMerge> 
        <feMergeNode in="coloredBlur"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>
  </defs>
  
  <rect width="200" height="200" fill="transparent"/>
  
  <path d="M50 80 Q100 40 150 80 Q120 120 80 100 Q60 90 50 80 Z" 
        fill="url(#fluidGrad1)" opacity="1" filter="url(#glow)">
  </path>
  
  <path d="M80 120 Q130 100 160 130 Q140 150 100 140 Q80 135 80 120 Z" 
        fill="url(#fluidGrad2)" opacity="0.9">
  </path>
  
  <g opacity="1">
    <circle cx="70" cy="85" r="4" fill="#667eea"/>
    <circle cx="130" cy="95" r="3" fill="#4facfe"/>
    <circle cx="110" cy="125" r="3.5" fill="#f093fb"/>
  </g>
  
  <text x="100" y="170" text-anchor="middle" 
        font-family="'Inter', 'SF Pro Display', 'Segoe UI', sans-serif" 
        font-size="24" font-weight="700" fill="url(#fluidGrad1)" 
        letter-spacing="2px">
    FLUX
  </text>
</svg>`;

        function createCanvas(size) {
            const canvas = document.createElement('canvas');
            canvas.width = size;
            canvas.height = size;
            const ctx = canvas.getContext('2d');
            
            const img = new Image();
            img.onload = function() {
                ctx.drawImage(img, 0, 0, size, size);
            };
            
            const svgBlob = new Blob([svgContent], { type: 'image/svg+xml' });
            const url = URL.createObjectURL(svgBlob);
            img.src = url;
            
            return canvas;
        }

        function convertToICO() {
            const sizes = [256, 128, 64, 32, 16];
            const downloadLinks = document.getElementById('download-links');
            downloadLinks.innerHTML = '<h3>生成的图标文件：</h3>';

            sizes.forEach(size => {
                setTimeout(() => {
                    const canvas = createCanvas(size);
                    document.getElementById('preview').appendChild(canvas);
                    
                    canvas.toBlob((blob) => {
                        const url = URL.createObjectURL(blob);
                        const link = document.createElement('a');
                        link.href = url;
                        link.download = `flux-icon-${size}x${size}.png`;
                        link.textContent = `下载 ${size}x${size} PNG`;
                        link.style.display = 'block';
                        link.style.margin = '5px 0';
                        downloadLinks.appendChild(link);
                    }, 'image/png');
                }, 500);
            });
        }

        // 页面加载时显示预览
        window.onload = function() {
            const previewDiv = document.getElementById('preview');
            previewDiv.innerHTML = svgContent;
        };
    </script>
</body>
</html>